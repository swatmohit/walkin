function facectCollapseAll(){$n("#pstage [id^=openFacet]");$n("#pstage [id^=openFacet_]").each(function(){$n(this).currObj().checked=!1}),$n("#pstage div.panelHead").removeClass("active"),$n("#pstage [id^=facetItemsListingDiv]").css({display:"none"}),$n("#facetCollapseAll").css({display:"none"})}function facectExpandAll(){$n("#pstage [id^=facetItemsListingDiv]").css({display:"block"}),$n("#pstage [id^=openFacet_]").each(function(){id=$n(this).attr("id"),val=$n(this).val(),$n("#"+id).currObj().checked=!1,
// console.log($n(this).attr('id'));
//console.log($n(this).val())
//'facetItemsListingDiv_
expandFacet("facetForm",val,"facetItemsListingDiv_"+val,$n(this))}),$n("#pstage div.panelHead").addClass("active"),$n("#facetCollapseAll").css({display:"block"}),$n("#facetExpandAll").css({display:"none"})}function getNextPage(a,b,c){$n("#currentPage").length?currentPageNo=$n("#currentPage").val():currentPageNo=1;var d=$n("#recordPerPage").val();d||(d=40);var e=window.location.href;
//console.log(curUrl);
if(e.indexOf("?css")>=0||e.indexOf("?cs")>=0){var f=e.split("?")[1];a=a+"?"+f+"&pageNo="+currentPageNo+"&pageSize="+d+"&orirequest"}else{a=a+"?pageNo="+currentPageNo+"&pageSize="+d+"&orirequest";var g=decodeURI(location.href).split("?")[1]||"";g&&(a+="&"+g)}submitFormWithParams(b,a,function(a){$n("#"+c).html(a.responseText),parseScript(c),
//  detachAllEvents();
addAllEvents(),attachAllEvents(),getTestTupleForCandidate(reqObjForGetTestTuple()),window.scrollTo(0,0)},{})}function getResultBySort(a,b,c,d){$n("#sortByFilterHiddenId").val(d),getNextPage(a,b,c)}function updateTotalPage(a,b,c,d){$n("#sortByFilterHiddenId").val(d),$n("#currentPage").length?currentPageNo=$n("#currentPage").val():currentPageNo=1;var e=$n("#recordPerPage").val();e||(e=40),a=a+"?pageNo="+currentPageNo+"&pageSize="+e+"&orirequest",submitFormWithParams(b,a,function(a){$n("#"+c).html(a.responseText),parseScript(c),addAllEvents(),attachAllEvents(),hideLoader(),getTestTupleForCandidate(reqObjForGetTestTuple()),$n("#facetDisplayDiv").currObj()&&expandFacet("facetForm","CURR_SUB_STATUS","facetItemsListingDiv_CURR_SUB_STATUS"),"undefined"!=typeof errorArr&&1!=bulkInterview&&($n("#statusChangeMessageDiv").show(),$n("#statusChangeMessageDiv").html(errorArr.msg))},{})}function download(a){submitSrpDownloadForm("downloadSrpForm",downloadCandidateProfile)}function docDownload(){download("doc")}function pdfDownload(){download("pdf")}function xlsDownload(){$n('input[type="checkbox"]:checked.srpListChk').length>0?download("xls"):showErrorMsg(" Please select the resume(s) you want to download")}
//Removed due to download revamp
/* function downloadSelectedResumes() {
  if ($n('input[type="checkbox"]:checked.srpListChk').length > 0) {
    hideErrorMsg();
    $n("#downloadSrpForm #downloadType_err").html("");
    $n("#downloadSrpForm #downloadType_err").hide();
    lightBox({
      trigger: "downloadSrpTrig", // Button Id which will open lightbox
      contId: "downloadSRPPro", // lighbox container Id
      close: "downloadSRPProClose", // close Btn Id
      contWidth: 820, // lightbox container width
      ecp: true, // Hide lightbox by pressing escape key if set it to True else False
      fixedLayer: false, // Keep the lightbox container on center of the screen if set it to True else False
      returnFocus: true, // Retruns focus to the same element if pressing on overlay/black layer.
      fLink: "flink" // Id of the first anchor.[Mandary param]
      //   hideCallBack:test      // Execute callback function.Pass the callback function name.
    });
  } else {
    showErrorMsg(" Please select the resume(s) you want to download");
  }
} */
function addAllEvents(){
//$n('#downloadSrpTrig').addEvent('click',xlsDownload);
//$n("#downloadSrpTrig").addEvent("click", downloadSelectedResumes);
$n("#rpSendForwardEmail").addEvent("click",sendForwardMailAttachEvent),1==isRP&&($n("#rpSendReplyEmail").addEvent("click",sendReplyMailAttachEvent),$n("#rpSendShareContactEmail").addEvent("click",sendShareContactMailAttachEvent),$n("#rpdeleteApplication").addEvent("click",deleteApplicationAttachEvent)),$n("#addToProjectTrig").addEvent("click",addToProject)}/* Following functions are being used for send email and delete application events */
function sendReplyMailAttachEvent(){$n('input[type="checkbox"]:checked.srpListChk').length>0?getSendEmailLightBoxForListing(queryEmail,queryMailUrl,""):showErrorMsg(" Please select the resume(s) you want to contact")}function emailRequirement(a,b,c){$n('input[type="checkbox"]:checked.srpListChk').length>0?getSendEmailLightBoxForListing(a,b,c):showErrorMsg(" Please select the resume(s) you want to contact")}function messageRequirement(a,b,c){$n('input[type="checkbox"]:checked.srpListChk').length>0?window.openMessageForListing(a,b,c):showErrorMsg(" Please select the resume(s) you want to contact")}function sendForwardMailAttachEvent(a){if(selectedIdArray.length>0||$n(".srpTopChk").isChecked()){clearAllPrefillTemplateDivs();
//vivek gupta -->getting inboxtype from dom and adding it in getSendEmailLightBoxForListing
var b=a.target&&a.target.id&&$("#"+a.target.id).data("inboxtype")?$("#"+a.target.id).data("inboxtype"):"";getSendEmailLightBoxForListing(forwardEmail,forwardEmailUrl,"",b),$n("#formIdForDownloadTrackerValidation").val("frmSendMail"),$n("#submitButtonForDownloadTrackerValidation").val("sendMailBtn")}else showErrorMsg(" Please select the resume(s) you want to forward")}function showErrorMsg(a,b){hideSuccessMsg(),$n(".perror").hasClass("dspN")?(document.getElementById("errorCheckBoxMsg").innerHTML=a,$n(".perror").removeClass("dspN")):document.getElementById("errorCheckBoxMsg").innerHTML=a,$n("#ErrorMessageDiv .msgClose").currObj().focus()}function showSuccessMsg(a,b){hideErrorMsg(),$n(".psuccess").hasClass("dspN")?(document.getElementById("successCheckBoxMsg").innerHTML=a,$n(".psuccess").removeClass("dspN")):document.getElementById("successCheckBoxMsg")&&(document.getElementById("successCheckBoxMsg").innerHTML=a),$n("#SuccessMessageDiv .msgClose").currObj().focus()}function sendShareContactMailAttachEvent(){$n('input[type="checkbox"]:checked.srpListChk').length>0?getShareContactMailLightBoxForListing(contactShareEmail,contactShareUrl):showErrorMsg(" Please select the resume(s) you want to contact")}function deleteApplicationAttachEvent(){$n('input[type="checkbox"]:checked.srpListChk').length>0?deleteApplicationLightBox(deleteApplicationUrl):showErrorMsg(" Please select the resume(s) you want to delete")}function hideErrorMsg(){$n("#ErrorMessageDiv").addClass("dspN")}function hideSuccessMsg(){$n("#SuccessMessageDiv").addClass("dspN")}function topInputClick(){}function srpListClick(){}function detachAllEvents(){$n(".srpListChk").removeEvent("click",srpListClick),$n(".topInpt").removeEvent("click",topInputClick),$n("#downloadSrpTrig").removeEvent("click",xlsDownload),1==isRP&&($n("#rpSendReplyEmail").removeEvent("click",sendReplyMailAttachEvent),$n("#rpSendForwardEmail").removeEvent("click",sendForwardMailAttachEvent),$n("#rpSendShareContactEmail").removeEvent("click",sendShareContactMailAttachEvent),$n("#rpdeleteApplication").removeEvent("click",deleteApplicationAttachEvent))}function menuselection(a){url=phoneTagUrl,selectedVal=a.cid,pid=a.pid,idVal=pid.split("_"),
// console.log(o);
// console.log(idVal);
// console.log(idVal.length);
phoneId=idVal[0],candidateId=idVal[1],applicationId="",profileId=a.profileid||"",idVal.length>2&&(applicationId=idVal[2]),updatePhoneTag(url,selectedVal,phoneId,applicationId,candidateId,!0,profileId)}function attachAllEvents(){new navmenu({sel:".menu1",dropClass:".subNavMenu",arrowclass:".dropArrow",tipclass:".topArowIc"}),navmenu({sel:".selectm",dropClass:".subNavMenu",arrowclass:".dropArrow",tipclass:".topArowIc",selectype:!0,callB:menuselection})}function downloadByIndex(){
//clear error message
return"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),$n("#downloadSrpByIndexForm #downloadType_err").html(""),$n("#downloadSrpByIndexForm #downloadType_err").hide(),!(!$n("#totalRecord").length||0==$n("#totalRecord").text().trim())&&($n("#dowStartingIndex").val(""),$n("#dowEndingIndex").val(""),lightBox({trigger:"downloadSrpByIndexTrig",contId:"downloadprofilebyindex",close:"downloadprofilebyindexClose",contWidth:820,ecp:!0,fixedLayer:!1,returnFocus:!1,firstFocus:"downloadprofilebyindexClose",fLink:"flink1"}),$n("#dowStartingIndex_err").removeClass("msg_errf"),$n("#dowEndingIndex_err").removeClass("msg_errf"),void 0)}function addToProject(){$n('input[type="checkbox"]:checked.srpListChk').length>0?(lightBox({trigger:"addToProjectTrig",contId:"addtoProjectSRPPro",close:"addtoProjectSRPProClose",contWidth:539,ecp:!0,fixedLayer:!1,returnFocus:!1,firstFocus:"addtoProjectSRPProClose",fLink:"flink1"}),$n("#projectName_err").removeClass("msg_errf"),$n("#projectList_err").removeClass("msg_errf"),$n("#addToProjectSingleProject").val(""),$n("#inp_projectList").removeAttr("disabled"),$n("#dispCreateProject").hide(),reqDDCall(JSON.stringify(projectListData),$n("#reqDDTabs>li").currObj())):showErrorMsg(" Please select the resume(s) you want to add to requirement")}function addOneCandidateToProject(a,b){b&&""!=b&&($n("#applicationIdForNotMappedApp").val(b),$n("#addReqLabel").html("<p>Move To Requirement</p>")),lightBox({trigger:"triggerAddSingleCandidate"+a,contId:"addtoProjectSRPPro",close:"addtoProjectSRPProClose",contWidth:539,ecp:!0,fixedLayer:!1,returnFocus:!1,firstFocus:"addtoProjectSRPProClose",fLink:"flink"}),$n("#projectName_err").removeClass("msg_errf"),$n("#projectList_err").removeClass("msg_errf"),$n("#addToProjectSingleProject").val(a),applicationTokenOnPage&&(window.selectedTokenMapping[a]=applicationTokenOnPage[a]),reqDDCall(JSON.stringify(projectListData),$n("#reqDDTabs>li").currObj())}function initAndShowDownloadDialog(a){"pdf"==a?($n("#pdfInp").currObj().checked=!0,$n("#xlsInp").currObj().checked=!1,$n("#docInp").currObj().checked=!1,$n("#pdfLab").hide(),$n("#docLab").show(),$n("#xlsLab").show()):"xls"==a?($n("#xlsInp").currObj().checked=!0,$n("#pdfInp").currObj().checked=!1,$n("#docInp").currObj().checked=!1,$n("#xlsLab").hide(),$n("#pdfLab").show(),$n("#docLab").show()):($n("#docInp").currObj().checked=!0,$n("#pdfInp").currObj().checked=!1,$n("#xlsInp").currObj().checked=!1,$n("#docLab").hide(),$n("#pdfLab").show(),$n("#xlsLab").show())}function getCheckedProfiles(){
// var listchk = $n('input.srpListChk:checked');
// var profileIdArr = new Array();
// for(i=0;i<listchk.length;i++) {
//     if(i==listchk.length-1){
//         profileIdArr[i] = listchk.eq(i).val();
//     } else {
//          profileIdArr[i] = listchk.eq(i).val();
//     }
// }
// var listchk = $n('input.srpListChk:checked');
// var profileIdArr = new Array();
// for(i=0;i<listchk.length;i++) {
//     if(i==listchk.length-1){
//         profileIdArr[i] = listchk.eq(i).val();
//     } else {
//          profileIdArr[i] = listchk.eq(i).val();
//     }
// }
return $n(".srpTopChk").isChecked()?profileIdOnPage:selectedIdArray}function getCheckedAppIdsOnPage(){return $n(".srpTopChk").isChecked()?applicationIdOnPage:selectedAppIds}function getCheckedReqIdsOnPage(){return $n(".srpTopChk").isChecked()?(selectedReqIds=[],projectIdOnPage):selectedReqIds}function getCheckedProfilesApplicationIds(a){var b=new Array;for(i=0;i<a.length;i++){var c="applicationIds_"+a[i];"object"!=typeof $n("#"+c).val()&&0!=$n("#"+c).val().length&&(b[i]=$n("#"+c).val())}return b}function getCheckedApplicationTokens(){
// if ($n(".srpTopChk").isChecked())
// {
//   if(applicationTokenOnPage){
//      selectedTokenMapping = {...applicationTokenOnPage};
//      return applicationTokenOnPage;
//   } else
//   {
//     return selectedTokenMapping;
//   }
// } else {
return selectedTokenMapping}function showFeedbacks(){}function showComments(a,b,c,d,e){if($n("#comntOuter"+c).hasClass("active"))$n("#comments_"+c).hide(),$n("#comntOuter"+c).removeClass("active"),$n("#comments_"+c).html("");else{$n("#comments_"+c).show(),$n("#comntOuter"+c).addClass("active");var f=null;document.getElementById("tupleAuthProjectToken_"+c)&&(f=$n("#tupleAuthProjectToken_"+c).val()),a+="?candidateId="+b+"&profileId="+c+"&projectId="+d+"&applicationId="+e+"&token="+f,loadWithParams(a,function(a){$n("#comments_"+c).html(a.responseText);var b=$($n("#comments_"+c).currObj());targetDiv="comments_"+c,parseScript(targetDiv),suggestorPowerComments(b)},"POST",{})}}function suggestorPowerComments(a){var b="https://suggest.naukri.com/suggest",c={checkVersion:b+"/v?",prefetch:b+"/prefetch?",autoComplete:b+"/autosuggest?",relatedConcept:b+"/autoConcepts?"};a.find(".suggest").suggestor({url:c,prefetchData:{key:"__infoEdge/prefetch"},showRelatedConcept:!1,appId:124,startSearchAfter:2,maxHeight:388,placeholder:!1,width:"687px",maxSuggestions:5,category:{powercomments:"powercomments"},onSelect:function(a,b){}})}function searchWithInKeyword(){""==$n("#keywordSearch").val()&&$n("#searchCandidateSave").attr("action",$n("#blankSearchRedirect").val())}function addComments(a,b,c,d,e){if(comments=$n("#comments_"+b+" #commentsTextArea").val(),""==$n.trim(comments))return $n("#comments_"+b+" #commentsTextArea_err").html("Comments can't be blank"),$n("#comments_"+b+" #commentsTextArea_err").addClass("msg_errf"),!1;$n("#comments_"+b+" #commentsTextArea").val(""),$n("#comments_"+b+" #commentsTextArea_err").removeClass("msg_errf");var f=null;document.getElementById("tupleAuthProjectToken_"+b)&&(f=$n("#tupleAuthProjectToken_"+b).val()),$n(this).ajaxReq({type:"post",async:"true",datatype:"json",data:"profileId="+b+"&projectId="+c+"&candidateId="+d+"&comments="+encodeURIComponent(comments)+"&applicationId="+e+"&token="+f,url:a,success:showCommentsList})}function showCommentsList(a){$n("#addComments_"+a.profileId).html(a.html),(""!=a.commentCount||a.commentCount>=0)&&$n("#commentCountDisplay_"+a.profileId).html(a.commentCount)}function deleteComments(a,b,c,d,e,f){var g=null;document.getElementById("tupleAuthProjectToken_"+d)&&(g=$n("#tupleAuthProjectToken_"+d).val()),$n(this).ajaxReq({type:"post",async:"true",datatype:"json",data:"profileId="+d+"&activityLogId="+c+"&projectId="+e+"&candidateId="+f+"&commentId="+b+"&token="+g,url:a,success:showCommentsList})}function submitSrpDownloadForm(a,b){if(profileIdArr=getCheckedProfiles(),applicationIdArr=getCheckedProfilesApplicationIds(profileIdArr),$n("#downloadProfileIds").val(profileIdArr),$n("#downloadApplicationIds").val(applicationIdArr),$n("#resdexSourceCount").val(getResdexSourceCount()),!validateDownloadAs("downloadSrpForm"))return!1;
// $n('#downloadSRPPro2 ')
if(assignValuestoHidden("downloadSrpForm"),$n("#fieldOrder").val($n("#fields").val()),!validateDownloadForm())return!1;var c=0;$n("#saveAsNew").length&&$n("#saveAsNew").isChecked()?$n(this).ajaxReq({type:"get",async:"true",datatype:"text",url:checkIfNameExists+"/"+$n("#templateName").val(),success:function(c){return respObj=JSON.parse(c),1==respObj.err?($n("#templateName_err").html(respObj.errMsg),$n("#templateName_err").addClass("msg_errf"),$n("#templateName_err").show(),!1):(submitFormWithParams(a,b,function(a){a.error},{},!0),hideLayer(),!0)}}):(submitFormWithParams(a,b,function(a){c=1,a.error>0?(hideLayer(),showErrorLightBox(a)):hideLayer()},{},!0),0==c&&hideLayer())}function showErrorLightBox(a){$n("#downloadResumeErrorBox").html('<div id="downloadResumeError" class="errorLbwrap"><div class="drErrHdr"><span>'+a.headerText+'</span><a onclick="hideLayer();" href="javascript: void(0);" class="drErrCloseBtn" >&#10005;</a></div><div class="drErrBody"><span>'+a.responseText+'</span></div><div class="drErrFooter"> <a onclick="hideLayer();" href="javascript:void(0)" class="drErrCancelBtn">OK</a></div></div>'),lightBox({trigger:"download",contId:"downloadResumeErrorBox",close:"closeBtn7",contWidth:500,ecp:!0,fixedLayer:!0,returnFocus:!1,fLink:"flink1"})}function downloadFromSRPSelectOption(a,b){if($n('input[type="checkbox"]:checked.srpListChk').length<=0)return void showErrorMsg(" Please select the resume(s) you want to download");var c=getCheckedProfiles(),d=getCheckedProfilesApplicationIds(c),e=d.join(),f=c.join(),g="daXls",h=$n("#searchListType").val(),i=$n("#searchListType").val();$n("#profileIdsForSelectOption").val(f),$n("#applicationIdsForSelectOption").val(e),$n("#searchListTypeForSelectOption").val(h),$n("#sourceForSelectOption").val(i),$n("#downloadTypeForSelectOption").val(g),submitFormWithParams(a,b,function(a){hideLoader()},{},!0)}function initStarRating(a){starRate.init({containerId:[a],inactiveClass:"inactive",activeClass:"active",activeHoverClass:"activeHover",selectedClass:"selected",uncheckable:!1,starCount:5,onSelect:updateStarRating})}function attachEventForTuple(){$("body").off("click","input.srpListChk").on("click","input.srpListChk",function(){reqCheck=!0;var a=$n(this).val(),b=$n("#applicationIds_"+a).val(),c=$n("#projectIds_"+a).val(),d=null;if(a&&(d=$n("#tupleAuthToken_"+a).val(),currentProfileTokenValue=$n("#tupleAuthProfileToken_"+a).val()),this.checked)selectedIdArray.push(a),selectedAppIds.push(b),selectedReqIds.push(c),
// MLH Tokens select unselect NOTE_FIX
d&&selectedTokenMapping&&(selectedTokenMapping[b]=d,selectedTokenMapping[a]=currentProfileTokenValue);else{var e=selectedIdArray.indexOf(a);selectedIdArray.splice(e,1);var f=selectedAppIds.indexOf(b);selectedAppIds.splice(f,1);var g=selectedReqIds.indexOf(c);selectedReqIds.splice(g,1),b&&selectedTokenMapping&&selectedTokenMapping[b]&&(delete selectedTokenMapping[b],delete selectedTokenMapping[a])}if("1"==isEnterprise){for(var h=1;h<selectedReqIds.length;h++)if(selectedReqIds[h]!==selectedReqIds[0]){reqCheck=!1;break}reqCheck&&(reqId=selectedReqIds[0]),$n("#statusListDD").removeAttr("disabled"),$n("#statusWarn").hide()}}),$("body").on("click","input.srpTopChk",function(){1==isEnterprise&&(reqCheck=checkForReqIdDiff()),$n(this).isChecked()?selectedIdArray=profileIdOnPage.slice():(selectedIdArray=[],selectedAppIds=[],selectedTokenMapping={}),reqCheck&&(reqId=selectedReqIds[0],$n("#statusListDD").removeAttr("disabled"),$n("#statusWarn").hide())})}function checkForReqIdDiff(){var a=getCheckedReqIdsOnPage();for(i=1;i<a.length;i++)if($.trim(a[i-1])!=$.trim(a[i]))return!1;return!0}function checkEnableDisbaleStatus(){$("body").off("click",".srchTup .f_check").on("click",".srchTup .f_check",function(){$(".srpTopChk").is(":checked")&&checkboxToggle(this,".srpTopChk")})}$n(document).ready(function(){$n("input.srpTopChk").addEvent("change",function(){$n(".srpTopChk").isChecked()?selectedReqIds=projectIdOnPage:selectedReqIds=[]}),checkEnableDisbaleStatus(),/*
    $("body").on("click", ".candName", function() {
        var _this=$(this);
        _this.closest(".candDet").find("small.bArrowIc").remove();
        _this.closest(".candDet").find("em").remove();
        var d = new Date();
                var dd = d.getDate();
                if (dd < 10) dd = '0' + dd
                var m = d.getMonth() + 1;
                if (m < 10) m = '0' + m
                var today = dd + '-' + m + '-' + d.getFullYear().toString().substring(2, 4);
        var _html='<em class="iconVTick" title="Viewed by you on '+ today+'"></em>';
        _this.closest(".candDet").prepend(_html)
    })
*/
attachAllEvents(),addAllEvents(),$n("#download.red_btn.center").addEvent("click",function(){var a=submitSrpDownloadForm("downloadSrpForm",downloadCandidateProfile);a&&hideLayer()}),
//attachEventForTuple();
sticky({topId:"profileListingDiv",stickyId:"stick",bottomId:"profileListingEndDiv",fixedPositionCss:{top:"0px",zIndex:"990"}})});