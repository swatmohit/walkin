// JavaScript Document
var dynamic_block=function(a){var b=this,c=0,d=[],e=[],f=0;b.emailRequirementMap=a.emailRequirementMap,
// alert(t.emailRequirementMap);
b.event=a.event,b.eventFunction=a.eventFunction,b.Om=a.Option_max,b.Os=a.option_show,b.tx=a.Typetxt,b.wp=a.wrap,b.ds=a.domain_sugg,b.vl=a.validate,b.validcall=a.valfunc,b.names=a.names,b.pjson=a.prefill,b.pHold=a.placeHolder,b.minL=a.minL||0,b.maxL=a.maxL||100,b.maxLength=a.maxLength||"",b.init=function(){var a,f,g=b.tx,h=$n("<div>").addClass("dyblock"),i=0;if($n(b.wp).append(h),b.pjson)for(f in b.pjson)i++;else i=b.Os;for(c=0;c<b.Om;c++)if(c<i){var j=0;0==c?(a="Primary "+g,j=1):a="Make Primary",$n(b.wp+" div.dyblock").append(b.cb(c,j,a,1)),e.push(c),b.ds&&b.aps(b.wp+"_"+c)}else d.push(c);b.hiddentxt(),
//
$n(b.wp).append($n("<a>").attr({href:"javascript:void(0)",rel:"addnew"}).html("Add another "+b.tx)).addEvent("click",b.dyk),b.another()},b.cb=function(a,c,d,e){var f=d,g=b.names.replace(/_num_/,a),h=c,i=b.wp.replace(/#/,"");if(cdiv=$n("<div>").addClass("row"),mdiv=$n("<div>").addClass("oh p1"),ediv=$n("<div>").addClass("erLbl fl mt5").attr({id:g+"_err"}),cinp=$n("<input>").attr({type:"text",placeholder:b.pHold,name:g,id:i+"_"+a,rel:b.vl,minl:b.minL,maxl:b.maxL,maxlength:b.maxLength}).addClass("itxt w205 email"),cinp.addEvent(b.event,function(){getDupilcateApllication(g,a)}),hidDiv=$n("<div>").attr({id:a}),b.emailRequirementMap&&b.emailRequirementMap[b.pjson[g]]&&b.emailRequirementMap[b.pjson[g]].errorExist){
//     projectsByEmail  =   t.emailRequirementMap['$applicationArray'];
var j=b.emailRequirementMap[b.pjson[g]],k=j.$applicationArray,l=j.errorMessage,m=parseInt(j.length)-1,n=createHTML(k,l,m,a);hidDiv.html(n,l),document.getElementById("duplicateRequirement").val=j.errorExist}return pdiv=$n("<div>").addClass("fl ce8 pt5 pl12"),atxt=$n("<a>").attr({href:"javascript:void(0)"}),h?atxt.attr({rel:"primaryTxt"}).addClass("primary"):atxt.attr({rel:"Makeprime"}),dic=$n("<a>").attr({href:"javascript:void(0)",rel:"Delkey"}).addClass("delIcon"),e?cinp.val(b.pjson[g]):"",cdiv.attr({id:i+"_"+a+"D"}),cdiv.append(mdiv.append(cinp).append(pdiv.append(atxt.append(f)).append("&nbsp;&nbsp;|&nbsp;&nbsp;").append(dic)).append(hidDiv)).append(ediv),cdiv},b.another=function(){var a=$n(b.wp+' a[rel="addnew"]').text();$n(b.wp+' a[rel="addnew"]').css({display:"inline"}),"0"==e.length?(a=a.replace(/another/i,""),$n(b.wp+' a[rel="addnew"]').html(a),f=1,b.hiddentxt("1")):"1"==e.length&&"1"==f?(a=a.replace(/add/i,"add another "),$n(b.wp+' a[rel="addnew"]').html(a),f=0):"5"==e.length&&$n(b.wp+' a[rel="addnew"]').hide()},b.hiddentxt=function(a){"undefined"==typeof a?$n(b.wp).append($n("<input>").attr({type:"hidden",value:"1",id:"primaryValue",name:b.names.replace(/_num_/,0).replace(/\[email\]/,"[isPrimary]").replace(/\[phoneNo\]/,"[isPrimary]")})):"1"===a?$n(b.wp+" input[type=hidden]").attr({name:""}):a.length&&$n(b.wp+" input[type=hidden]").attr({name:a.replace(/\[email\]/,"[isPrimary]").replace(/\[phoneNo\]/,"[isPrimary]")})},b.dyk=function(a){var c=$n(a.target||a.srcElement),f=c.currObj().nodeName.toLowerCase();if("a"===f){var g=c.attr("rel");if("Delkey"===g){var h=c.parent().parent().parent(),i=h.attr("id"),j=i.split("_"),k=e.indexOf(parseInt(j[1]));if(deleteFromHiddenField(parseInt(j[1]).toString(),"emailDuplicateRequirements"),deleteFromHiddenField(parseInt(j[1]).toString(),"requirementRestricredIds"),""===$n("#requirementRestricredIds").val()){var l=document.getElementById("editCandBasicButton");l.disabled=!1,l.style.cursor="pointer"}if(1==parseInt($n("#"+j[0]+" .dyblock>div").length))return!1;h.remove(),d.push(e[k]),e.splice(k,1),b.another(),"primaryTxt"==c.parent().childrens("a").attr("rel")?($n(b.wp+" .dyblock .row").eq(0).childrens('a[rel="Makeprime"]').html("Primary "+b.tx).attr({rel:"primaryTxt"}).addClass("primary"),b.hiddentxt($n(b.wp+" .dyblock .row").eq(0).childrens("input").attr("name"))):"Makeprime"==c.parent().childrens("a").attr("rel")}else if("Makeprime"===g){$n(b.wp+' a[rel="primaryTxt"]').html("Make Primary").attr({rel:"Makeprime"}).removeClass("primary"),c.html("Primary "+b.tx).attr({rel:"primaryTxt"}).addClass("primary");var m=c.parent().parent().childrens("input").attr("name");b.hiddentxt(m)}else if("addnew"===g){var n=b.tx,o=0==e.length?1:0;if(e.length<b.Om){var p=d.pop();e.push(p),b.another(),o?(kt="Primary "+n,o=1):kt="Make Primary",$n(b.wp+"> div.dyblock").append(b.cb(p,o,kt,0)),b.ds&&b.aps(b.wp+"_"+p+"i"),b.validcall("candidate_email")}}}},b.aps=function(a){new suggester({id:[a],
//pass one or more id's
objNew:"keywordSuggObj",
//pass object name
countSugg:"12",
//pass how many values display at the time of suggestion display
arry:{s1:"gmail.com",s2:"yahoo.com",s3:"ymail.com",s4:"in.com"},
//pass json array if you have;
domain:!0,client:"",startVal:1,app_id:1,suggestorName:"KEYWORD",suggheading:"Choose from this list:"})},b.init()};createHTML=function(a,b,c,d){var e="";e+='<div class="oh fl mt3" style="color:red">'+b+"</div>",e+='<div class="oh fl mt8 duprow padtb dupreqshade">';var f=0,g="";for(Y in a)0!==f&&(g="hd"),1===f&&(e+='<div id="show'+d+'" style="color:blue"onclick="show('+d+')"><a href="javascript:void(0)"> +'+c+" requirements </a></div>"),a[Y].projectId&&(e+='<div class="'+g+" show"+d+' style="padding-top:3px"><div class="padlef"><span style=color:'+a[Y].statusSubStatusCombinedColor+">"+a[Y].getStatusSubStatusCombinedDisplayText+'</span><em class="c8"> in </em>'+a[Y].projectName+"</div>"),e+='<div class="'+g+" show"+d+' padlef" style="padding-bottom:5px"><em class="c8"> by </em>'+a[Y].createdBy+" on "+a[Y].updatedOn+" <a href="+viewApplication+"/"+a[Y].applicationId+' target="_blank">View Candidate</a></div>',a[Y].projectName&&(e+="</div>"),f+=1;return e+="</div>"};var languageModule=function(a){var b=this,c={"-":"Select",1:"Beginner",2:"Proficient",3:"Expert"},d=[],e=[];b.cont=a.ids,b.maxopt=a.max_opt,b.minshow=a.min_show,b.pjson=a.prefill_data||null,b.obj_name=a.htmlobjname,b.validfunc=a.validateFunc,b.frm=a.fName,b.rel=a.validate,b.mL=a.minL||0,b.mxL=a.maxL||200,b.maxLength=a.maxLength||"",b.init=function(){var a,c,d=b.maxopt-1,f=$n("<div>").addClass("language_block");for(d;d>=0;d--)e.push(d);if(b.pjson)for(a in b.pjson){var g=e.pop();f.append(b.buildwrap(b.applyname(g,a),g))}else if(b.minshow<=b.maxopt)for(g=e.pop(),c=0;c<b.minshow;c++)f.append(b.buildwrap(b.applyname(g),g));$n(b.cont).append(f),$n(b.cont).append(b.addmore()),b.checkadd(),b.validfunc(b.frm)},b.addmore=function(){var a=$n("<a>").attr({href:"javascript:void(0)",id:"addmore"}).html("Add Language"),c=$n("<div>").addClass("row");return a.addEvent("click",b.checkadd),c.append(a)},b.checkadd=function(){if(e.length){1==e.length?$n(b.cont+" #addmore").hide():"";var a=e.pop(),c=b.buildwrap(b.applyname(a),a);$n(b.cont+" div.language_block").append(c)}else 0==e.length?$n(b.cont+" #addmore").hide():"";b.validfunc(b.frm)},b.langrow=function(){function a(a,b){var d,e=$n(a);if(b)e.attr({type:b});else if("select"===e.currObj().nodeName.toLowerCase())for(d in c){var f=$n("<option>").attr({value:d}).html(c[d]);e.append(f)}return e}var d,e,f,g,h;return d=a("<input>","text").addClass("itxt w173").attr({rel:b.rel,minl:b.mL,maxl:b.mxL,maxlength:b.maxLength}),e=a("<select>").addClass("stxt"),f=a("<input>","checkbox").addClass("check"),g=a("<input>","checkbox").addClass("check"),h=a("<input>","checkbox").addClass("check"),[d,e,f,g,h]},b.applyname=function(a,c){var e=b.langrow(),f=0,g=a,h=0;for(f=0;f<e.length;f++){var i=b.obj_name[f].replace(/_num_/,g),j=e[f].currObj().nodeName.toLowerCase();if(e[f].attr({Name:i}),c){var k=b.pjson[c][i];if("input"==j&&"text"==e[f].attr("type"))e[f].attr({value:k});else if("input"==j&&"checkbox"==e[f].attr("type"))k?e[f].attr({checked:!0}):"";else if("select"==j)for(h=0;h<e[f].childrens("option").length;h++)if(e[f].childrens("option").eq(h).val()==k){e[f].childrens("option").eq(h).attr({selected:!0});break}}}return d.push(a),e},b.buildwrap=function(a,c){var d,e,f,g,h=a,i=[];for(f=$n("<div>").addClass("row"),e=$n("<span>").append(b.dele(c)),//<div id="lang'+ai+'_err" class="fl erLbl mt5"></div>
g=$n("<div>").addClass("cl fl erLbl mt5").attr({id:"lang"+c+"_err"}),d=0;d<h.length;d++)h[0].attr({id:"lang"+c}),i[d]=$n("<span>").append(h[d]);var j='<div class="col1">'+i[0].html()+'</div><div class="col1">'+i[1].html()+'</div><div class="col2">'+i[2].html()+'</div><div class="col2">'+i[3].html()+'</div><div class="col2">'+i[4].html()+"</div>";return f.html(j).append(e).append(g),f},b.dele=function(a){var c=$n("<a>").attr({href:"javascript:void(0)",index:a}).addClass("delIcon");return c.addEvent("click",function(){$n(this).parent().parent().remove();var a=$n(this).attr("index"),c=d.indexOf(parseInt(a));d.splice(c,1),e.push(parseInt(a)),1==e.length?$n(b.cont+" #addmore").css({display:"inline"}):""}),c},b.init()},diplomaModule=function(a){var b=this,c=[],d=[];b.cont=a.ids,b.maxopt=a.max_opt,b.minshow=a.min_show,b.pjson=a.prefill_data||null,b.obj_name=a.htmlobjname,b.label=a.label,b.valfunc=a.valfunc,b.fname=a.fname,b.validate=a.validate,b.mL=a.minL||0,b.mxL=a.maxL||200,b.maxLength=a.maxLength||"",b.init=function(){var a,c=b.maxopt-1,e=$n("<div>").addClass("diploma_block");for(c;c>=0;c--)d.push(c);if(b.pjson)for(var f=0;f<b.pjson.length;f++){var g=d.pop();e.append(b.dBlock(g,!0))}else if(b.minshow<=b.maxopt)for(g=d.pop(),a=0;a<b.minshow;a++)e.append(b.dBlock(g));$n(b.cont).append(e),$n(b.cont).append(b.addiploma()),b.addDiploma(),b.valfunc(b.fname)},b.dBlock=function(a,e){var f=a,g=b.obj_name.replace(/_num_/,f),h=$n("<div>").addClass("oh pb10 pt8"),i=$n("<label>").addClass("fLabel").append(b.label+":"),j=$n("<input>").attr({name:g,rel:b.validate,minl:b.mL,maxl:b.mxL,maxlength:b.maxLength}).addClass("itxt w230"),k=$n("<a>").attr({href:"javascript:void(0)",index:a}).addClass("marT_ie pl3 fl").append("Delete");return k.addEvent("click",function(){$n(this).parent().remove();var a=$n(this).attr("index"),e=c.indexOf(parseInt(a));c.splice(e,1),d.push(parseInt(a)),1==d.length?$n(b.cont+" #addmore").css({display:"inline"}):""}),e&&j.attr({value:b.pjson[f]}),h.append(i).append(j).append(k),c.push(a),h},b.addiploma=function(){var a=$n("<a>").attr({href:"javascript:void(0)",id:"addmore"}).html("Add "+b.label),c=$n("<div>").addClass(" oh pb10 pt8");return a.addEvent("click",b.addDiploma),c.append($n("<div>").addClass("fLabel").append("&nbsp;")).append(a)},b.addDiploma=function(){if(d.length){1==d.length?$n(b.cont+" #addmore").hide():"";var a=d.pop(),c=b.dBlock(a);$n(b.cont+" div.diploma_block").append(c),b.valfunc(b.fname)}else 0==d.length?$n(b.cont+" #addmore").hide():""},b.init()},sendReminderSuccessMsgSkype='<div id="sendReminderMsg"> <div class="psuccess"> <a class="msgClose" id="closeSendReminderMsg"> ×</a> <div class="oh"> <div class="fl mt5"> <em></em> <span class="etxt"><strong>Success! </strong> <span>Reminder has been sent successfully</span><br></span> </div> </div></div></div>',sendReminderErrMsgSkype='<div class="perror" id="sendReminderMsg"> <a class="msgClose" id="closeSendReminderMsg"> ×</a> <div style="padding-top:3px;"> <em></em> <span class="etxt"><strong>Error!</strong><span> Sending Reminder failed. Please try again after sometime.</span></span> </div> </div>';$(document).on("click","a[data-actiontype]",function(a){if("sendReminderSkype"===$(a.currentTarget).attr("data-actiontype")){var b=a.currentTarget.id;b=b.split("_")[1],showLoader("_bodyContent",!1),$("#sendReminderMsg").remove(),$.ajax({url:"/skype/sendReminder?applicationId="+b,method:"POST",crossDomain:!0,xhrFields:{withCredentials:!0},headers:{accept:"application/json","Content-Type":"application/json"},success:function(a){hideLoader("_bodyContent",!1),a&&"success"===a.status?($("#stick").append(sendReminderSuccessMsgSkype),$(".sendReminderTime").text("Sent just now")):$("#stick").append(sendReminderErrMsgSkype)},error:function(a){hideLoader("_bodyContent",!1),$("#stick").append(sendReminderErrMsgSkype)}})}}),$(document).on("click","#closeSendReminderMsg",function(){$("#sendReminderMsg").remove()});