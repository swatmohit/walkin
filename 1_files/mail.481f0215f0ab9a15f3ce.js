(window.rmsWebpackJsonp=window.rmsWebpackJsonp||[]).push([[11],{40:function(e,t,a){a("nNAJ"),a("JcUy"),e.exports=a("vg/G")},HDAx:function(e,t,a){},HwbM:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();a("HDAx");var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.validateEmail=function(e){return/^[_A-Za-z0-9]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$/.test(String(e).toLowerCase())},a.enterEmail=function(e){var t=e.keyCode,n=a.props,r=n.onInvalidEmail,i=n.duplicate,l=i.allow,o=i.onDuplicate;a.setState({err:!1},function(){r(!1),l||o(!1)}),[13,9,186,188].indexOf(t)>=0&&(e.preventDefault(),a.addTag(e))},a.isDuplicate=function(e){var t=a.props,n=t.list,r=t.duplicate.caseSensitive,i=!1;return n.forEach(function(t){r?t.label===e&&(i=!0):t.label.toLowerCase()===e.toLowerCase()&&(i=!0)}),i},a.onFocus=function(e){var t=a.props.onFocus;t&&t(e)},a.handleOnChange=function(e){a.setState({value:e.target.value}),(0,a.props.onChange)(e.target.value)},a.handleBlurOnInput=function(e){var t=a.props.onInvalidEmail;a.setState({wrongEmail:!1},function(){t(!1)}),a.addTag(e)},a.addTag=function(e){var t=a.props,n=t.validateEmail,r=t.onInvalidEmail,i=t.duplicate,l=i.allow,o=i.onDuplicate,s=e.target.value,c=[];""!==s&&(n&&(a.validateEmail(s)||c.push(r)),l||a.isDuplicate(s)&&c.push(o),c.length?a.setState({err:!0},function(){c.forEach(function(e){e(!0)})}):(a.add(s),a.setState({value:""}),e.target.value=""))},a.add=function(e){++a.addedTagCount,(0,a.props.onAddTag)({value:"new"+a.addedTagCount,label:e})},a.onCrossClick=function(e){(0,a.props.onCrossClick)(e)},a.state={err:!1,value:e.value||""},a.addedTagCount=0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.PureComponent),i(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.value!==this.props.value&&(this.setState({value:e.value}),this.props.onChange(e.value))}},{key:"render",value:function(){var e=this,t=this.props,a=t.list,n=(t.onCrossClick,t.canCreateTag),i=this.state,l=i.err,o=i.value;return r.a.createElement("div",{className:"emailTag"},r.a.createElement("div",{className:"emailCont"},a.map(function(t,a){return r.a.createElement("div",{className:"emailds",key:t.value||a},r.a.createElement("span",{className:"toIds"},t.label),!t.isNonDeletable&&r.a.createElement("span",{className:"crossId","data-index":a,onClick:function(){e.onCrossClick(t)}},"âœ•"))}),n&&r.a.createElement("input",{type:"text",className:"mailTextF"+(l?" err":""),onBlur:this.handleBlurOnInput,autoComplete:"none",placeholder:"Enter email",value:o,onKeyDown:this.enterEmail,onChange:this.handleOnChange,onFocus:this.onFocus})))}}]),t}(),o=l;l.defaultProps={list:[],onCrossClick:function(e){console.log(e)},canCreateTag:!0,onAddTag:function(e){console.log(e)},onChange:function(){},duplicate:{allow:!1,caseSensitive:!0,onDuplicate:function(){}},validateEmail:!0,onInvalidEmail:function(){}};t.a=o},JcUy:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),i=a("i8i4"),l=a.n(i),o=a("ve6o"),s=a("Um4b"),c=a("VBXE"),d=a("AbnB"),u=a("UJx8"),m=a("hLA2"),p=a("4Gi3"),f=a("jlLm"),h=a("SSaa"),g=a("HzoI"),v=a("UauV"),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},y=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function S(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var E={1001:"This field cannot be left blank.",1002:"Please accept the terms and conditions",3003:function(e){return!/^[a-zA-Z0-9\s\.\#\@\-\,\$\&\/]+$/.test(e.val())&&""!=e.val()&&"Special characters other than . # @ - , $ & /  are not allowed"},9010:function(e){return!/^[a-zA-Z0-9\s\.\#\@\-\,\$\&\/\[\]\(\)]+$/.test(e.val())&&""!=e.val()&&"Special characters other than . # @ - , $ & / [ ] ( ) are not allowed"}},C="Oops ! something went wrong. Please try again later",w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.initializeMail=function(e){var t=a.props.template,n=a.props.profileIds.length>1?{default:e.fromMailIdList&&e.fromMailIdList.default}:e.fromMailId,r=a.props.profileIds.length>1?{default:e.fromMailIdList&&e.fromMailIdList.default}:e.fromMailIdList,i=e.category,l=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["category"]);a.setState(Object.assign({},l,{categoryId:i,fromMailId:n,fromMailIdList:r,loaded:!0,mailAttachments:[],shouldAddLogoInEmail:e.addLogoRecruiterSetting,requestedDoc:t?e.savedDocList:[].concat(S(a.props.requestedDoc),[])}),function(){a.initializeUploadAttachment(),a.initializeValidation()})},a.updateMailStore=function(e){a.setState(Object.assign({},a.state,e))},a.initializeValidation=function(){var e=a.props.template;a.formValidate=Object(h.a)(),a.formValidate.validate({formNames:"sendMailForm",errors:E,styles:{errorClass:"err",okClass:"ok",softMandClass:"softMand",parentObjectClass:"colSec",maxLevel:1},defaultEvents:["blur","keyup"],submitButton:e?"saveTempBtn":"sendMessageEmail",clearOnFocus:!1,inlineErrors:!0,focusOnError:!0,fireDelay:0,disableSubmit:!0,messageBox:{id:"feedMsgBoxID",content:{errorCount:"[errCount] problems with this form",errorMessages:!1},hideOthers:!0}})},a.beforeUploadCallback=function(){a.setState({isLoading:!0})},a.initializeUploadAttachment=function(){var e=a.state.attachmentData;a.attachmentUploader=new f.a(Object.assign({},e,{fileId:"mailAttachment",forceBasicUploader:!1,dropAreaParams:{id:"holder2",onHoverCssClass:"hover"},outputHolder:{id:"attachmentHolder",cssClass:"outputCss"},basicProgressBarId:"basicProgressBar2",callback:a.uploadAttachCallback,beforeUploadCallback:a.beforeUploadCallback}))},a.uploadAttachCallback=function(e){var t=a.state.mailAttachments;if(a.setState({isLoading:!1}),e.hasOwnProperty("SUCCESS"))a.updateMailStore({mailAttachments:[].concat(S(t),[{label:e.SUCCESS[Object.keys(e.SUCCESS)[0]].name,value:Object.keys(e.SUCCESS)[0]}])});else if(e.hasOwnProperty("ERROR")){var n=e.ERROR[Object.keys(e.ERROR)[0]].error||e.ERROR;a.handleSuccErr(!0,"error",n)}},a.handleAttachDelete=function(e){var t=a.state.mailAttachments,n=e.value,r=e.label;a.attachmentUploader.deleteFile(n,r,!0);var i=t.filter(function(e,t){return e.value!==n});a.updateMailStore({mailAttachments:i})},a.closeForm=function(){l.a.unmountComponentAtNode(document.getElementById("mailContainer"))},a.mailBodyisNotEmpty=function(){var e=document.querySelector(".composeMail .mailBodyWriter");return!e||"string"!=typeof e.textContent||0!=e.textContent.trim().length||(e.focus(),e.blur(),e.focus(),!1)},a.getTemplateData=function(){var e=a.props.template,t=a.state,n=t.mailSubject,r=t.shareTemplate,i=t.templateName,l=t.requestedDoc,o=t.categoryId;return{mailTemplateId:e.templateId,templateType:e.tempType,name:i,subject:n,category:o,bodyContent:encodeURIComponent(document.querySelector(".composeMail .mailBodyWriter")&&document.querySelector(".composeMail .mailBodyWriter").innerHTML),shared:r?1:0,documentTypeIds:l&&l.map(function(e,t){return e.value})}},a.isValidCC=function(e){a.setState({validCC:e})},a.saveTemplate=function(){var e=a.props,t=e.successCallback,n=e.template,r=n.templateId;n.tempType;a.isFormValid()&&(a.showLoader(),Object(p.b)({url:"/emailtemplate/mailtemplate",type:"POST",data:JSON.stringify(a.getTemplateData()),success:function(){a.closeForm(),t(r?"Template edited":"Template Created")},error:a.showValidationError,complete:a.hideLoader}))},a.showTemplatePreview=function(){var e=a,t=a.props.template,n=(t.templateId,t.tempType);a.isFormValid()&&(a.showLoader(),Object(p.b)({url:"/emailtemplate/preview",type:"POST",data:JSON.stringify({bodyContent:encodeURIComponent(document.querySelector(".composeMail .mailBodyWriter")&&document.querySelector(".composeMail .mailBodyWriter").innerHTML),templateType:n,includeRecruiterSignature:e.includeSign}),success:a.openTemplatePreview,error:function(e){a.handleSuccErr(!0)},complete:a.hideLoader}))},a.openTemplatePreview=function(e){var t=Object(p.f)("mailTemplatePreview");t.innerHTML=e.previewData;var a=document.createElement("a");a.setAttribute("class","close_btn previewClose"),t.children[0]&&t.children[0].appendChild(a),document.body.appendChild(t),$(a).on("click",function(){t.remove()});var n=function(){t.remove()};$("#mailTemplatePreview .previewShutCross").on("click",n),$("#mailTemplatePreview .gray_btn").on("click",n),$("#mailTemplatePreview .close_btn").css({display:"none"})},a.handleSuccErr=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;a.setState({action:t,showErrSuccess:e,msg:n})},a.getMailData=function(){var e=a.state,t=e.ccList,n=e.copyToMe,r=e.fromMailId,i=e.fromMailIdList,l=e.mailAttachments,o=(e.mailBody,e.mailSubject),s=e.saveTemplate,c=e.templateName,d=e.mailTemplateId,u=e.categoryId,m=e.requestedDoc,p=e.bccSetting,f=e.legalAcceptance,h=e.addLogoRecruiterSetting,g=e.shouldAddLogoInEmail,v=a.props,b=v.profileIds,y=v.applicationIds,S=v.mailType;return{ccMailIds:t.map(function(e,t){return e.label}),copyToMe:n,bccSetting:p,fromMailId:r,fromMailIdList:i,mailAttachments:l,mailBody:encodeURIComponent(document.querySelector(".composeMail .mailBodyWriter").innerHTML),mailSubject:o,saveTemplate:s,templateName:c,profileIds:b,applicationIds:y,documentsRequested:m,mailType:S,mailTemplateId:d?+d:null,category:u?+u:null,legalAcceptance:f,shouldAddLogoInEmail:g,addLogoRecruiterSetting:h}},a.onSendMail=function(){var e=a.props.successCallback,t=a.state.sendMailUrl;if(a.isFormValid()){a.showLoader();var n=a.getMailData();n.includeRecruiterSignature=a.state.includeSign,window.selectedTokenMapping&&(n.authTokenMapping=window.selectedTokenMapping),Object(p.b)({url:t,type:"POST",crossDomain:!0,xhrFields:{withCredentials:!0},data:JSON.stringify(n),success:function(t){var n=t.docMailMessage,r=t.message+" "+(n||"");a.closeForm(),e(r)},error:a.showValidationError,complete:a.hideLoader})}},a.showPreview=function(){var e=document.getElementById("mailTemplateSubject");if(e&&(e.focus(),e.blur()),a.isFormValid()){a.showLoader();var t=a.getMailData();t.includeRecruiterSignature=a.state.includeSign,window.selectedTokenMapping&&(t.authTokenMapping=window.selectedTokenMapping);var n=JSON.stringify(t);Object(p.b)({url:"/querymail/preview",type:"POST",data:n,success:a.openPreview,error:a.showValidationError,complete:a.hideLoader})}},a.openPreview=function(e){var t=Object(p.f)("messagePreview"),n=a;t.innerHTML=e&&e.htmlBodyContents,document.body.appendChild(t);var r=function(){t.remove()};$("#messagePreview .gray_btn").on("click",r),$("#messagePreview .previewShutCross").on("click",r),$("#messagePreview .blue_btn").on("click",function(){r(),n.onSendMail()})},a.addSign=function(e){a.setState({addSign:!a.state.addSign})},a.toggleShowIncludeSign=function(){a.setState({showIncludeSign:!a.state.showIncludeSign,includeSign:!0})},a.isFormValid=function(){var e=a.formValidate.isValid("sendMailForm"),t=a.mailBodyisNotEmpty();return!!(e&&t&&a.state.validCC)},a.showLoader=function(){a.setState({loading:!0})},a.hideLoader=function(){a.setState({loading:!1})},a.showValidationError=function(e){a.handleSuccErr(!0,"error",e.responseJSON&&e.responseJSON.validationErrors?e.responseJSON.validationErrors[0].message:C)},a.onRequestedRemove=function(e){var t=a.state.requestedDoc.filter(function(t,a){return t.value!==e.value});a.updateMailStore({requestedDoc:t})},a.state={showErrSuccess:!1,action:"success",msg:"no error",loaded:!1,loading:!1,mailTemplateId:null,isLoading:!1,legalAcceptance:!1,requestedDoc:[],showIncludeSign:!1,includeSign:!1,addSign:!1,validCC:!0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.PureComponent),y(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.url,n=t.template,r=t.isBulk,i=t.isRequested,l={url:a,type:"POST",success:this.initializeMail,data:JSON.stringify({profileIds:this.props.profileIds,isBulk:r,isDocumentRequested:i})},o={url:a,type:"GET",success:this.initializeMail};Object(p.b)(n?o:l),document.body.classList.add("oh"),Object(p.b)({url:"/signatures",data:{name:"default-rms"},success:function(t){t&&t.length&&e.setState({showIncludeSign:!0})}})}},{key:"componentDidUpdate",value:function(){this.initializeValidation()}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("oh")}},{key:"render",value:function(){var e=this,t=this.state,a=t.loaded,n=t.shareTemplate,i=t.templateName,l=t.action,p=t.msg,f=t.showErrSuccess,h=t.loading,y=this.props,S=y.template,E=y.isBulk,C=y.profileIds,w=S&&Number(S.tempType);return r.a.createElement(d.a,null,this.state.addSign&&r.a.createElement("div",{id:"overlay-background"}),r.a.createElement(u.a,{open:this.state.addSign,close:this.addSign,sign:"",handleSuccErr:this.handleSuccErr,showIncludeSign:this.toggleShowIncludeSign,showLoader:this.showLoader,hideLoader:this.hideLoader}),r.a.createElement("div",{className:"mailContainer wrap "},h&&r.a.createElement(c.a,null),r.a.createElement("form",{className:"tabViewContainer",name:"sendMailForm",id:"sendMailForm",ref:function(t){e.mailForm=t},autoComplete:"off",onSubmit:function(e){e.preventDefault()}},r.a.createElement("button",{type:"submit",style:{display:"none"}}),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"btnBack",onClick:this.closeForm},r.a.createElement("span",{className:"backArrow"})),r.a.createElement(o.a,{head:S?S.templateId?1===w?"Edit a message template":5===w?"Edit a financial mail template":"Edit mail template":1===w?"Create a message template":5===w?"Create a financial mail template":"Create a mail template":"Compose Mail",subHead:""})),r.a.createElement(v.a,{action:l,show:f,message:p,onCloseClick:function(){e.setState({showErrSuccess:!1})}}),r.a.createElement("div",{className:"mailContent"},a?r.a.createElement(m.a,b({},this.state,{profileIds:C,updateMailStore:this.updateMailStore,mailType:w,onAttachmentDelete:this.handleAttachDelete,template:S,onRequestedRemove:this.onRequestedRemove,isBulk:E,addSignature:this.addSign,isValidCC:this.isValidCC})):r.a.createElement(g.b,null)),r.a.createElement("div",{className:"footer"},a&&(S?r.a.createElement("div",{className:"templateFooter"},r.a.createElement("button",{className:"noBorderBtn",onClick:this.showTemplatePreview},"Preview"),r.a.createElement("div",{className:"dfx"},r.a.createElement("input",{type:"checkbox",id:"shareTemp",checked:n,onChange:function(){e.updateMailStore({shareTemplate:!n})}}),r.a.createElement("label",{htmlFor:"shareTemp"},"Share this template"),r.a.createElement("div",{className:"saveTempSection"},r.a.createElement("input",{type:"text",placeholder:"Enter template name",value:i,name:"saveTemplateName",rel:"required:1001,custom:3003",maxLength:"150",onChange:function(t){e.updateMailStore({templateName:t.target.value})}}),r.a.createElement("button",{type:"button",className:"blockBtn",id:"saveTempBtn",onClick:this.saveTemplate},"SAVE TEMPLATE"),r.a.createElement("p",{className:"erLbl mt5",id:"saveTemplateName_err"})))):r.a.createElement(s.a,{next:{disable:!1,show:!0,text:"PREVIEW",type:"submit"},save:{disable:!1,show:!0,text:"SEND MAIL",id:"sendMessageEmail"},cancel:{disable:!1,show:!1,text:"CANCEL"},saveClickCallback:this.onSendMail,nextClickCallback:this.showPreview,tabClick:function(){},activeTab:1,tabCount:3}))))))}}]),t}();function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];l.a.render(r.a.createElement(w,{mailType:e,url:n?function(e){var t=e.templateId,a=e.tempType;return e.action,t?"/emailtemplate/form/"+a+"?mailTemplateId="+t:"/emailtemplate/form/"+a}(n):function(e){switch(e){case"1":return"/querymail/mailform";case"2":return"emailtemplate/form/1";default:return"/querymail/mailform"}}(e),applicationIds:t,profileIds:a,template:n,successCallback:i,requestedDoc:o,isBulk:s,isRequested:c}),document.getElementById("mailContainer"))}function k(e){var t=document.querySelector(".pBlock"),a=(t.querySelector(".pList li a.active"),t.querySelector("select")),n=a.value;a.value=n,a.onchange(),function(e){var t=document.querySelector(".psuccess"),a=document.querySelector(".perror");t&&t.remove(),a&&a.remove();var n=document.createElement("div");n.setAttribute("class","psuccess");var r=document.createElement("div");r.setAttribute("class","fl"),r.setAttribute("style","padding-top:3px");var i=document.createElement("em"),l=document.createElement("span");l.setAttribute("id","SuccessmsgBx"),l.setAttribute("class","pt3 fl");var o=document.createTextNode(e);l.appendChild(o),r.appendChild(i),r.appendChild(l),n.appendChild(r);var s=document.querySelector("#mailTemplateTuples").parentNode;s.insertBefore(n,s.firstChild)}(e)}window.openMessageForListing=function(e){$("#fields").length&&$("#fields").val("");var t=getCheckedProfiles();T(e,getCheckedProfilesApplicationIds(t),t,null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Mail sent successfully",t=document.getElementById("SuccessMessageDiv");t.classList.remove("dspN"),t.querySelector("#successCheckBoxMsg").innerHTML=e},[],!0)},window.openMessageForCvDetail=function(e,t,a){T(e,candidateApplicationId?[candidateApplicationId]:[],[profileId],null,function(e){var t=document.getElementById("SuccessmsgBxForSendMail");t.style.display="block",t.querySelector(".etxt").innerHTML="Mail sent successfully",window.remountAttach()},t,!1,a)},window.createTemplate=function(e){T("","","",{tempType:e,templateId:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null},k)}},QzyX:function(e,t,a){},S58e:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("k82f"),l=(a("dm3v"),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}());var o={hideTracksWhenNotNeeded:!0,autoHeight:!0,autoHeightMax:250,autoHide:!0},s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=function(e){var t=a.props.onChange;a.checkEmpty(e),t&&t()},a.checkEmpty=function(e){0===e.target.innerText.trim().length?a.setState({isEditorEmpty:!0}):a.setState({isEditorEmpty:!1})},a.editorOnBlurHandler=function(e){a.checkEmpty(e),a.props.editorOnBlurHandler&&a.props.editorOnBlurHandler(e,a.state.isEditorEmpty)},a.putStyle=function(e,t){var n=window.getSelection().anchorNode;if($(n).hasClass("mailBodyWriter")||$(n).closest(".mailBodyWriter").length>0){document.execCommand(e,!1,null);a.setState(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},e,!a.state[e]))}},a.checkStyle=function(){var e=window.getSelection().anchorNode;a.setState({bold:!1,italic:!1,underline:!1,insertUnorderedList:!1,insertOrderedList:!1}),a.props.onChange(),a.selectStyle(e)},a.selectStyle=function(e){if($(e).hasClass("mailBodyWriter")||$(e).closest(".mailBodyWriter").length>0){switch(e.nodeName){case"B":a.setState({bold:!0});break;case"I":a.setState({italic:!0});break;case"U":a.setState({underline:!0});break;case"UL":a.setState({insertUnorderedList:!0});break;case"OL":a.setState({insertOrderedList:!0})}a.selectStyle(e.parentNode)}},a.onFocus=function(e){var t=a.props.onFocus;t&&t(e),a.checkStyle()},a.strip_tags=function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<script[^>]*>.*?<\/script>/,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,a){return t.indexOf("<"+a.toLowerCase()+">")>-1?e:""}).replace(/(&nbsp;)+/g,"&nbsp;").replace(/(&nbsp; )/g," ")},a.onPaste=function(e){if(void 0!==e.clipboardData){var t="";if(e.clipboardData.getData("text/html")){t=e.clipboardData.getData("text/html").replace(/[\n\r]/g," ").replace(/Â·/g,"â€¢").replace(/â€¢/g,"");var n=document.createElement("div");n.innerHTML=t;var r=$('[class^="MsoListParagraph"]',$(n));r.length&&(r.replaceWith(function(){return $("<li/>",{class:this.className,html:this.innerHTML,children:this.children})}),$(n).children().each(function(){var e=$(this).prev().is("li"),t=$(this).next().is("li"),a=this.children.length>0&&function(e){return/^[0-9]+\.\s+/.test(e)}(this.children[0].textContent),n=$(this).is("li");a&&n&&(this.innerHTML=this.children[1].textContent),!e&&t&&n?a?$(this).addClass("insertOlStart"):$(this).addClass("insertUlStart"):e&&!t&&n?a?$(this).addClass("insertOlEnd"):$(this).addClass("insertUlEnd"):e||t||!n||(a?$(this).addClass("insertOlStartEnd"):$(this).addClass("insertUlStartEnd"))}),$("li.insertUlStart",$(n)).each(function(){var e=$(this).nextUntil("li.insertUlEnd"),t=$(this);e.length?e.add(this).add(e.next()).wrapAll("<ul>"):$(this).next().is("li")&&e.add(this).add(t.next()).wrapAll("<ul>")}),$("li.insertUlStartEnd",$(n)).each(function(){$(this).add(this).wrapAll("<ul>")}),$("li.insertOlStart",$(n)).each(function(){var e=$(this).nextUntil("li.insertOlEnd"),t=$(this);e.length?e.add(this).add(e.next()).wrapAll("<ol>"):$(this).next().is("li")&&e.add(this).add(t.next()).wrapAll("<ol>")}),$("li.insertOlStartEnd",$(n)).each(function(){$(this).add(this).wrapAll("<ol>")})),$(n).find("*").each(function(){var e=this;("STYLE"===e.nodeName&&e.remove(),e.attributes.length)&&$.map(e.attributes,function(e){return e.name}).forEach(function(t){e.removeAttribute(t)})}),t=n.innerHTML}else t=e.clipboardData.getData("text/plain").replace(/(?:\r\n|\r|\n)/gi,"<br>");var i=document.createElement("div");i.innerHTML=t;var l=a.strip_tags(i.innerHTML,"<div><ol><ul><li><p><b><strong><i><u><br><em>");if(e.nativeEvent&&e.nativeEvent.currentTarget.execCommand){e.nativeEvent.currentTarget.execCommand("insertHTML",!1,l);e.preventDefault()}var o=a.props.onPaste;o&&o(e),a.checkStyle()}},a.state={bold:!1,italic:!1,underline:!1,insertUnorderedList:!1,insertOrderedList:!1,isEditorEmpty:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.PureComponent),l(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.html,n=t.editorRef,l=this.state,s=l.bold,c=l.italic,d=l.underline,u=l.insertUnorderedList,m=l.insertOrderedList,p=l.isEditorEmpty;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mailBody"},r.a.createElement("div",{className:"editorButtons"},r.a.createElement("div",{className:"styleAction",title:"Bold",onClick:function(t){e.putStyle("bold",t)},onMouseDown:function(e){e.preventDefault()}},r.a.createElement("span",{className:"mail-sprite "+(s?"sprite-bold-dark":"sprite-bold-light")})),r.a.createElement("div",{className:"styleAction",title:"Italic",onClick:function(t){e.putStyle("italic",t)},onMouseDown:function(e){e.preventDefault()}},r.a.createElement("span",{className:"mail-sprite "+(c?"sprite-italic-dark":"sprite-italic-light")})),r.a.createElement("div",{className:"styleAction",title:"Underline",onClick:function(t){e.putStyle("underline",t)},onMouseDown:function(e){e.preventDefault()}},r.a.createElement("span",{className:"mail-sprite "+(d?"sprite-underline-dark":"sprite-underline-light")})),r.a.createElement("div",{className:"styleAction",title:"Numbered List",onClick:function(t){e.putStyle("insertOrderedList",t)},onMouseDown:function(e){e.preventDefault()}},r.a.createElement("span",{className:"mail-sprite "+(m?"sprite-Numerals-dark":"sprite-Numerals-light")})),r.a.createElement("div",{className:"styleAction",title:"Bulleted List",onClick:function(t){e.putStyle("insertUnorderedList",t)},onMouseDown:function(e){e.preventDefault()}},r.a.createElement("span",{className:"mail-sprite "+(u?"sprite-Bullets-dark":"sprite-Bullets-light")}))),r.a.createElement(i.Scrollbars,o,r.a.createElement("div",{contentEditable:!0,tabIndex:0,ref:n,onFocus:this.onFocus,onKeyDown:this.onChange,onKeyUp:this.checkStyle,onClick:this.checkStyle,onInput:this.onChange,onBlur:this.editorOnBlurHandler,onPaste:this.onPaste,dangerouslySetInnerHTML:{__html:a},className:"mailBodyWriter"}))),p?r.a.createElement("p",{className:"error-style",id:"mailBody_err"}," ","This field cannot be left blank."," "):"")}}]),t}(),c=s;s.defaultProps={onChange:function(){},html:"<div>Hello</div>",editorOnBlurHandler:function(){},onFocus:function(){},onPaste:function(){}};t.a=c},T7DQ:function(e,t,a){},UJx8:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=(a("QzyX"),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}());var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=function(e){var t=a.props.onChange;a.checkEmpty(e),t&&t()},a.checkEmpty=function(e){0===e.target.innerText.trim().length?$(e.target).closest(".composeMail").addClass("err"):$(e.target).closest(".composeMail").removeClass("err")},a.putStyle=function(e,t){var n=window.getSelection().anchorNode;if($(n).hasClass("mailBodyWriter")||$(n).closest(".mailBodyWriter").length>0){document.execCommand(e,!1,null);a.setState(function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}({},e,!a.state[e]))}},a.checkStyle=function(){var e=window.getSelection().anchorNode;a.setState({bold:!1,italic:!1,underline:!1,insertUnorderedList:!1,insertOrderedList:!1}),a.props.onChange(),a.selectStyle(e)},a.selectStyle=function(e){if($(e).hasClass("mailBodyWriter")||$(e).closest(".mailBodyWriter").length>0){switch(e.nodeName){case"B":a.setState({bold:!0});break;case"I":a.setState({italic:!0});break;case"U":a.setState({underline:!0});break;case"UL":a.setState({insertUnorderedList:!0});break;case"OL":a.setState({insertOrderedList:!0})}a.selectStyle(e.parentNode)}},a.onFocus=function(e){var t=a.props.onFocus;t&&t(e),a.checkStyle()},a.state={bold:!1,italic:!1,underline:!1,insertUnorderedList:!1,insertOrderedList:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.PureComponent),i(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.html,n=(t.onChange,t.onFocus,t.editorRef),i=(t.onSaveBlur,this.state),l=i.bold,o=i.italic,s=i.underline,c=i.insertUnorderedList,d=i.insertOrderedList;return r.a.createElement("div",{className:"mailBody"},r.a.createElement("div",{className:"editorButtons"},r.a.createElement("div",{className:"styleAction",title:"Bold",onClick:function(t){e.putStyle("bold",t)},onMouseDown:function(e){e.preventDefault()}},r.a.createElement("span",{className:"mail-sprite "+(l?"sprite-bold-dark":"sprite-bold-light")})),r.a.createElement("div",{className:"styleAction",title:"Italic",onClick:function(t){e.putStyle("italic",t)},onMouseDown:function(e){e.preventDefault()}},r.a.createElement("span",{className:"mail-sprite "+(o?"sprite-italic-dark":"sprite-italic-light")})),r.a.createElement("div",{className:"styleAction",title:"Underline",onClick:function(t){e.putStyle("underline",t)},onMouseDown:function(e){e.preventDefault()}},r.a.createElement("span",{className:"mail-sprite "+(s?"sprite-underline-dark":"sprite-underline-light")})),r.a.createElement("div",{className:"styleAction",title:"Numbered List",onClick:function(t){e.putStyle("insertOrderedList",t)},onMouseDown:function(e){e.preventDefault()}},r.a.createElement("span",{className:"mail-sprite "+(d?"sprite-Numerals-dark":"sprite-Numerals-light")})),r.a.createElement("div",{className:"styleAction",title:"Bulleted List",onClick:function(t){e.putStyle("insertUnorderedList",t)},onMouseDown:function(e){e.preventDefault()}},r.a.createElement("span",{className:"mail-sprite "+(c?"sprite-Bullets-dark":"sprite-Bullets-light")}))),r.a.createElement("div",{contentEditable:!0,tabIndex:0,ref:n,onFocus:this.onFocus,onKeyDown:this.onChange,onKeyUp:this.checkStyle,onClick:this.checkStyle,onInput:this.onChange,onBlur:this.checkEmpty,dangerouslySetInnerHTML:{__html:a},id:"mailEditor",className:"mailBodyWriter"}),r.a.createElement("p",{className:"erLbl",id:"mailBody_err"},"This field cannot be left blank."))}}]),t}(),o=a("4Gi3"),s=new RegExp('<strong>|<em>|<b>|</b>|<u>|<ul>|<li>|<blockquote>|<div align="left">|<div align="right">|<div align="center">|<div align="justify">|<ol>|</strong>|</em>|</u>|</ul>|</li>|</blockquote>|</ol>|</div>|<p align="left">|<p align="right"|<p align="center"|<p align="justify"|<p>|</p>|&nbsp;</p>|<br />',"gi"),c="HTML tags are not supported in this field",d="Only spaces are not allowed.",u="Signature can not be blank.";function m(e){return e?e.replace(/^\s+|\s+$/g,""):e}function p(e){var t="",a=e;a=m(a=(a=(a=a.replace(/\n/g," ")).replace(/<br>/gi," ")).replace(/<br \/>/gi," ")),e=$.trim(e.replace(/\r\n/g,"\n"));var n=new RegExp(/<("[^"]*"|'[^']*'|[^'">])*>/).test(e),r=function(e){var t="";t=(t=function(e){var t=e.replace(/(style=\"[^\"]*\")/gi," ");return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/(class=\"[^\"]*\")/gi," ")).replace(/<font[\s]*[^>]*>/gi," ")).replace(/<span[\s]*[^>]*>/gi," ")).replace(/<\/font>/gi," ")).replace(/<\/span>/gi," ")).replace(/<![^<^>]*>/gi," ")).replace(/<br>/gi," ")).replace(/<br> /gi," ")).replace(/<br>&nbsp;/gi," ")).replace(/&nbsp;/gi," ")}(e)).replace(s," ");var a=new RegExp("&[^;]*;","gi");return t=m(t=(t=(t=(t=(t=t.replace(a," ")).replace(/<p [^>.]*>/gi," ")).replace(/<ul [^>.]*>/gi," ")).replace(/<ol [^>.]*>/gi," ")).replace(/<li [^>.]*>/gi," "))}(e);return e&&"undefined"!==e&&0!==a.length&&""!==e&&"<br>"!==e?0===r.length?t=d:0===r.length&&"&nbsp"!==e&&"<br>"!==e&&" "!==e&&"<br> "!==e&&""!==e&&"<br>&nbsp;"!==e?t=d:n&&(t=c):t+=u,t}a("T7DQ");var f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.saveSignature=function(){var t=e,a=e.props,n=a.showLoader,r=a.handleSuccErr,i=a.showIncludeSign,l=a.close,s=p(t.signbody.innerText);if(s)e.setState({signatureErrMsg:s});else{n(),e.setState({signatureErrMsg:""});var c=JSON.stringify({content:t.signbody.innerHTML,name:"default-rms"});Object(o.b)({url:"/signatures",type:"POST",data:c,success:function(e){r(!0,"success","Signature added successfully"),i(),l()},error:function(e){console.log("err",e),r(!0,"error","Error while adding signature")},complete:e.props.hideLoader})}},e.closeSignForm=function(){var t=e.props.close;e.setState({signatureErrMsg:""}),t()},e.state={signatureErrMsg:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.PureComponent),f(t,[{key:"render",value:function(){var e=this,t=this.state.signatureErrMsg,a=this.props,n=a.open,i=a.sign;return r.a.createElement("div",{className:n?"addBoardOverlay addSign":"addBoardOverlay addSign hide"},r.a.createElement("div",{className:"overlayHeader"},r.a.createElement("h2",null,"Add Signature"),r.a.createElement("a",{onClick:this.closeSignForm,className:"msgCloseOverlay"},"Ã—")),r.a.createElement("div",{className:"wrapper"},r.a.createElement(l,{html:i,editorRef:function(t){e.signbody=t},onChange:function(){}})),t&&r.a.createElement("div",{className:"invalid_sign_err_msg"},t),r.a.createElement("p",{class:"p10 note"}," You can edit this signature from Account Settings later"),r.a.createElement("div",{className:"overlay-footer"},r.a.createElement("button",{className:"red_btn fl",onClick:this.saveSignature},"Save"),r.a.createElement("a",{className:"ml10 mt8 fl",onClick:this.closeSignForm},"Cancel")))}}]),t}();t.a=h},dm3v:function(e,t,a){},hLA2:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=(a("i8i4"),a("17x9"),a("k82f")),l=a("HwbM"),o=a("xA4+"),s=a("Gz6E"),c=a("oV/W"),d=a("S58e"),u=a("4Gi3"),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();function p(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h="/emailtemplate/form",g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.insertTextAtPosition=function(e,t,n){var r=a.props.updateMailStore;if(e&&"INPUT"===e.nodeName){var i=e.value.length,l=e.value.substring(0,t),o=e.value.substring(t,i);e.selectionEnd=t+n.length,r({mailSubject:l+n+o})}else if(e&&"DIV"==e.nodeName){var s=a.state.selectedRange;s=s||window.getSelection().getRangeAt(0);var c=document.createElement("span"),d=document.createTextNode(n);c.appendChild(d),c.setAttribute("class","offerTag"),s.deleteContents(),s.insertNode(c),s.setStartAfter(c),s.setEndAfter(c),window.getSelection().removeAllRanges(),window.getSelection().addRange(s)}a.setState({selectedRange:window.getSelection().getRangeAt(0)})},a.handleTagClick=function(e){var t=a.state.latestFocus,n=(a.props.updateMailStore,t&&t.selectionStart);t&&t.focus(),a.insertTextAtPosition(t,n,e)},a.handleTemplateChange=function(e){var t=a.props,n=t.updateMailStore,r=t.isBulk,i=t.mailType,l="/querymail/mailtemplate/"+e.value;5===i&&(l=h+"/5?mailTemplateId="+e.value),Object(u.b)({url:l,success:function(t){n({mailSubject:t.mailSubject,mailTemplateId:e.value,requestedDoc:t.savedDocList&&t.savedDocList.length?(r&&a.showAlreadyWarning("Documents already uploaded by candidate will not be requested again"),a.getRequestDocObj(t.savedDocList)):[]}),$(".mailBodyWriter").html(t.mailBody)},error:function(e){console.log(e)}})},a.handleCategoryChange=function(e){var t=a.props,n=t.updateMailStore,r=t.mailType;Object(u.b)({url:h+"/"+r+"?categoryId="+e.value,success:function(t){n({mailSubject:t.mailSubject,mailBody:t.mailBody,mailTemplateList:t.mailTemplateList,categoryId:e.value})},error:function(e){console.log(e)}})},a.getRequestDocObj=function(e){var t=a.props,n=t.requestDocList,r=(t.requestedDoc,t.updateMailStore),i=t.isBulk,l=n&&n.filter(function(t,a){return!t.disable&&!!e.find(function(e,a){return e.value==t.value})}),o=n&&n.filter(function(t,a){return t.disable&&!!e.find(function(e,a){return e.value==t.value})});return o&&o.length?a.showAlreadyUploadedWarning(o):r({showErrSuccess:i}),l},a.showAlreadyUploadedWarning=function(e){a.props.updateMailStore;a.showAlreadyWarning(a.alreadyUploadedMessage(e))},a.alreadyUploadedMessage=function(e){return(e&&e.map(function(e){return e.label}).toString())+" are already uploaded by candidate and will not be requested again"},a.handleFromChange=function(e){(0,a.props.updateMailStore)({fromMailId:f({},e.value,e.label)})},a.handleMailBodyChange=function(e){window.getSelection().anchorNode&&a.setState({selectedRange:window.getSelection().getRangeAt(0)})},a.getExtensionString=function(e){var t="";e&&(t=e.map(function(e,t){return"."+e}).toString());return t},a.onRemoveCc=function(e){var t=a.props,n=t.ccList;(0,t.updateMailStore)({ccList:n.filter(function(t,a){return t.value!==e.value})})},a.onRemoveEmailRecipient=function(e){var t=a.props,n=t.to;(0,t.updateMailStore)({to:n.filter(function(t){return t.value!==e.value})})},a.fromDD=function(){var e=a.props,t=e.fromMailIdList;e.profileIds;return Object.keys(t).map(function(e,a){return{value:e,label:t[e]}})},a.getCC=function(){var e=a.state,t=e.wrongEmailCc,n=e.isCCLinkActive,i=a.props,o=i.ccList,s=i.updateMailStore,c=i.isValidCC;return i.showCCLink&&n&&!o.length?null:r.a.createElement("div",{className:"to colSec"},r.a.createElement("label",null,"Cc :"),r.a.createElement(l.a,{list:o,onAddTag:function(e){s({ccList:[].concat(p(o),[e])})},onCrossClick:a.onRemoveCc,validateEmail:!0,onInvalidEmail:function(e){a.setState({wrongEmailCc:e}),c&&c(!e)},canCreateTag:!0,a:!0}),!!t&&r.a.createElement("p",{className:"erLbl dspB"},"Please enter a valid Email"))},a.getCCLink=function(){var e=a.props.ccList;return a.state.isCCLinkActive&&!e.length?r.a.createElement("a",{className:"showCCLink",href:"javascript:void(0)",onClick:function(){a.setState({isCCLinkActive:!1})}},"Cc"):null},a.getEmailRecipients=function(){var e=a.state.wrongRecipientEmail,t=a.props,n=t.to,i=t.hideCopyToMeOpt,o=t.updateMailStore,s=t.isValidRecipient;return r.a.createElement("div",{className:"from colSec"},r.a.createElement("label",null,"To : "),r.a.createElement("div",{className:"receiver-name"},r.a.createElement(l.a,{list:n,onAddTag:function(e){o({to:[].concat(p(n),[e])})},onCrossClick:a.onRemoveEmailRecipient,validateEmail:!0,onInvalidEmail:function(e){a.setState({wrongRecipientEmail:e}),s&&s(!e)},canCreateTag:!0})),i&&a.getCCLink(),!!e&&r.a.createElement("p",{className:"erLbl dspB"},"Please enter a valid Email"))},a.getFrom=function(){var e=a.props,t=e.fromMailId,n=e.copyToMe,i=e.updateMailStore,l=a.fromDD();return r.a.createElement("div",{className:"from colSec"},r.a.createElement("label",null,"Reply To : "),l&&l.length>1?r.a.createElement(c.a,{className:"fromEmail",data:l,selectedOption:[{value:Object.keys(t)[0],label:t[Object.keys(t)[0]]}],onChange:a.handleFromChange}):r.a.createElement("span",{className:"pl3"},l.length>0&&l[0].label),r.a.createElement("span",{className:"fromInfo ml3",title:"Note! For all senders other than those using their own mail client, mails will be sent from naukriRMS.com to honour DMARC policies."}," "),r.a.createElement("div",{className:"copyToMe"},r.a.createElement("input",{type:"checkbox",id:"copyToMe",checked:!!n,value:!!n,onChange:function(){i({copyToMe:!n})}}),r.a.createElement("label",{htmlFor:"copyToMe"},"Mail a copy to me")))},a.getSubject=function(){var e,t=a.props,n=t.mailSubject,i=t.updateMailStore;return r.a.createElement("div",{className:"subject colSec"},r.a.createElement("label",null,"Subject :"),r.a.createElement("input",(f(e={type:"text",rel:"required:1001",name:"subject",id:"offerSub"},"id","mailTemplateSubject"),f(e,"ref",function(e){a.subject=e}),f(e,"maxLength","256"),f(e,"className","mailTextF"),f(e,"placeholder","Enter subject"),f(e,"value",n),f(e,"onChange",function(e){i({mailSubject:e.target.value})}),f(e,"onFocus",function(e){a.setState({latestFocus:e.target})}),e)),r.a.createElement("p",{className:"erLbl",id:"subject_err"}))},a.getMailBody=function(){var e=a.props.mailBody;return r.a.createElement("div",{className:"composeMail colSec"},r.a.createElement(d.a,{html:e,onChange:a.handleMailBodyChange,editorRef:function(e){a.body=e},onFocus:function(e){a.setState({latestFocus:e.target})},onSaveBlur:function(){}}))},a.getAttachLoader=function(){return r.a.createElement("div",{className:"attachmentLoader ml15 dspIb mr15"},r.a.createElement("div",null,r.a.createElement("span",{className:"leftRotate"}),r.a.createElement("span",{className:"rightRotate"})))},a.getAttached=function(){var e=a.props,t=e.mailAttachments,n=e.onAttachmentDelete,i=e.updateMailStore;return e.showAttachment&&!t.length?null:r.a.createElement("div",{className:"to colSec"},r.a.createElement("label",null,"Attached :"),a.props.isLoading&&a.getAttachLoader(),t.length>0&&r.a.createElement(l.a,{list:t,onAddTag:function(e){i({mailAttachments:[].concat(p(t),[e])})},onCrossClick:n,validateEmail:!1,canCreateTag:!1}))},a.getTemplateList=function(){var e=a.props,t=e.mailTemplateList,n=e.mailTemplateId,i=void 0;return n&&(i=t.find(function(e){return+e.value==+n})),i=i||{value:0,label:"Prefill from Template"},t.length>0?r.a.createElement(c.a,{className:"prefillTemplate",data:t,selectedOption:[i],onChange:a.handleTemplateChange,searchable:!0}):r.a.createElement("span",null,"No templates Available")},a.getCategories=function(){if(5===a.props.mailType){var e=a.props,t=e.categoryList,n=e.categoryId,i=void 0;return n&&(i=t.find(function(e){return+e.value==+n})),i=i||{value:0,label:"Select a category"},r.a.createElement(c.a,{className:"template-category",selectedOption:[i],data:t,onChange:a.handleCategoryChange,searchable:!1})}},a.getSaveTemplate=function(){var e=a.props,t=e.saveTemplate,n=e.templateName,i=e.updateMailStore;return e.hideSaveTemplateOpt?null:t?r.a.createElement("div",{className:"saveTemp colSec"},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("input",{type:"text",id:"saveOfferTemp",name:"saveOfferTemp",value:n,placeholder:"Type Template name here",rel:"custom:3003",maxLength:"150",onChange:function(e){i({templateName:e.target.value})}}),r.a.createElement("span",{className:"saveTempInfo"},"Template will be saved when the mail is sent")),r.a.createElement("p",{className:"erLbl",id:"saveOfferTemp_err"})):r.a.createElement("div",{className:"saveTemp colSec"},r.a.createElement("a",{href:"javascript:void(0)",onClick:function(){i({saveTemplate:!0})}},"Save Template"))},a.getAttachedBtn=function(){var e=a.props.attachmentData;return r.a.createElement("span",null,r.a.createElement("span",{className:"sprite-offer sprite-attachSmall"}),r.a.createElement("span",{className:"dIb mr10",onClick:function(){document.getElementById("mailAttachment").click()}},"Attach File"),r.a.createElement("input",{type:"file",id:"mailAttachment",multiple:!0,accept:a.getExtensionString(e.extensions)}))},a.getRequestBtn=function(){return a.props.hideReqDocOpt?null:r.a.createElement("span",{className:"mr10",onClick:function(){document.querySelector(".requestDocMail .select-toggler").click()}},r.a.createElement("span",{className:"mr10"},"Request Documents"),r.a.createElement("span",{className:"icon"},"DownArrow"))},a.getRequestDocDD=function(){var e=a.props,t=e.requestDocList,n=e.requestedDoc;return e.hideReqDocOpt?null:r.a.createElement(c.a,{data:t,multiSelect:!0,searchable:!1,className:"requestDocMail",selectedOption:n,searchPlaceholder:"Select Documents",tooltipForDisable:"You can delete the document and request the same again",onChange:a.onSelectRequestDoc,maxHeight:200})},a.getModifiedData=function(e){return e.map(function(e,t){return Object.assign({},e,{label:"<span>"+e.label+'</span><span class="fr mr5">'+(e.disable?"Already uploaded":"")+"</span>"})})},a.getRequested=function(){var e=a.props,t=e.requestedDoc,n=e.onRequestedRemove,i=e.updateMailStore;return e.hideReqDocOpt?null:r.a.createElement("div",{className:"to colSec"},r.a.createElement("label",null,"Requested documents :"),t&&t.length>0&&r.a.createElement(l.a,{list:t,onAddTag:function(e){i({requestedDoc:[].concat(p(t),[e])})},onCrossClick:n,validateEmail:!1,canCreateTag:!1}))},a.getSignature=function(){var e=a.props,t=e.addSignature,n=(e.shouldAddLogoInEmail,e.includeSign),i=e.updateMailStore;return e.showIncludeSign?r.a.createElement("span",null,r.a.createElement("input",{type:"checkbox",id:"includeSign",checked:!!n,value:!!n,onChange:function(){i({includeSign:!n})}}),r.a.createElement("label",{htmlFor:"includeSign"},"Include signature")):r.a.createElement("a",{className:"pr10",onClick:function(){t()}},"Add signature")},a.getCompanyLogoSetting=function(){var e=a.props,t=e.shouldAddLogoInEmail,n=e.updateMailStore;return r.a.createElement("div",{className:"logoCB"},r.a.createElement("input",{type:"checkbox",id:"addLogoRec",checked:!!t,value:!!t,onChange:function(){n({shouldAddLogoInEmail:!t})}}),r.a.createElement("label",{htmlFor:"addLogoRec"},"Add Company logo in Email header"))},a.onSelectRequestDoc=function(e,t){var n=a.props,r=(n.requestedDoc,n.updateMailStore),i=n.isBulk;++a.checked,1===a.checked&&i?r({showErrSuccess:!0,action:"warning",msg:"Documents already uploaded by candidate will not be requested again",requestedDoc:t}):r({requestedDoc:t})},a.showAlreadyWarning=function(e){(0,a.props.updateMailStore)({showErrSuccess:!0,action:"warning",msg:e})},a.renderMailBody=function(){var e=a.props,t=e.isRp,n=e.tagArr,i=e.template,l=e.mailType,o=e.hideLogoOpt,c=e.requestedDoc,d=e.showAttachment,u=e.legalAcceptance,m=e.updateMailStore,p=e.showRecipientList,f=e.showCompanyLogoSetting,h=!(!a.props.requestDocList||!a.props.requestDocList.length),g=window.allowRecruiterSignature;return r.a.createElement("div",{className:"mailFlow"},r.a.createElement("div",{className:"message-mailBody"},(!i||5===l)&&(p?a.getEmailRecipients():a.getFrom()),!i&&a.getCC(),!t&&r.a.createElement("div",{className:"prefill colSec"},r.a.createElement("div",{className:"template-container"},a.getCategories(),a.getTemplateList()),r.a.createElement("div",{className:"posR mr10 cursorP"},r.a.createElement("div",{className:"requestDdContainer"},h&&a.getRequestBtn(),h&&a.getRequestDocDD()),d&&!i&&a.getAttachedBtn(),n&&r.a.createElement("span",{className:"tagToggler"},r.a.createElement("span",null,"[tags]"),r.a.createElement("span",{className:"icon"},"DownArrow")),n&&r.a.createElement(s.a,{tagArr:n,onTagClick:a.handleTagClick}))),a.getSubject(),a.getMailBody(),o?null:r.a.createElement("div",{className:"to colSec"},g&&a.getSignature(),f&&a.getCompanyLogoSetting()),h&&a.getRequested(),d&&!i&&!t&&a.getAttached(),!i&&!t&&!!c&&c.length>0&&r.a.createElement("div",{className:"legalRequestDoc colSec"},r.a.createElement("input",{type:"checkbox",id:"legalAcceptance",value:!!u,rel:"checked:1002|change",onChange:function(){m({legalAcceptance:!u})}}),r.a.createElement("label",{htmlFor:"legalAcceptance"},"We hereby agree that we shall use the documents collected pursuant to this correspondence for the sole and exclusive purpose of recruitment, and shall be solely responsible for any use/misuse of the said documents to the maximum extent permitted by applicable laws, including without limitation, data protection laws."),r.a.createElement("p",{className:"erLbl",id:"legalAcceptance_err"})),!i&&!t&&a.getSaveTemplate()))},a.state={isCCLinkActive:!0,fileInfo:null,latestFocus:null},a.checked=0,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.PureComponent),m(t,[{key:"componentDidMount",value:function(){this.props.updateMailStore;this.setState({latestFocus:this.body})}},{key:"render",value:function(){return this.props.hideScrollOnMailBody?this.renderMailBody():r.a.createElement(i.Scrollbars,{renderThumbVertical:o.a,renderTrackVertical:o.b,hideTracksWhenNotNeeded:!0,autoHide:!1,ref:"scrollbars"},this.renderMailBody())}}]),t}();t.a=g,g.defaultProps={tagArr:{Candidate:["Date of birth","Email ID","Designation","Gender","Experience (years, months)","Functional Area","Company Name","Current CTC","City","Notice Period","Mobile","Keyskills","Post graduation degree","PG university/institute name","Industry","Name","PG specialization","Post Post graduation (PPG) degree","PPG specialization","PPG university/institute name","Preferred work location","Under Graduation degree","University name"],Recruiter:["Recruiter Name","Recruiter Email","Recruiter Company Name","Recruiter Mobile"]},showAttachment:!0,mailTemplateList:{1875:"This is send mea opy",1878:"Mail Tags copied <^%@^#*&#*(",1879:"thisisiepieoeieoieoieoieoieoeioeio",1884:"rrrrrrrr",1888:"aserdf",1890:"dddddd",1894:"new template",1896:"ccc",1898:"this is a message to the jobseeker",1903:"new template sushi for messgae check this out",1908:"asdasd",1919:"asfasaf",1927:"sushil test message",1938:"template shared on 9 dec 14 19pm",1941:"Arunnjdjkdjdk",1945:"NEW MESSAGE TEMPLATE SUSHIL",1964:"hgh",1966:"hgh 1",2002:"Test Template0818201511824",2003:"Test Template0818201511901",2006:"MessageFwdTest2",2028:"Test1",2034:"asdfg",2035:"utktest123",2139:"testlogs",2141:"t1",2143:"sub template",2145:"old subuser template",2147:"old sub user shared templateold sub user shared te",2149:"Mail Template - Abhijeet",2151:"dsadsad",2159:"dasdasda",2165:"@12378",2167:"ggsdjgjdshshhshsksjlk",2169:"@$##$$",2171:"ffhjj",2177:" >",2187:"vvvvvvtttttttttttttttttttt",2189:"1",2191:"QA @ Work",2193:"ABCD",2195:"dadadads",2197:"arun",2199:"vxv!",2201:"vxv",2203:"trpti 73 email template",2205:"trpti 73 email templatedddddddddddddd",2207:"TESTING_FF",2209:"ddddddddddddddddd",2211:"ddddddddddddddddddddddddddddddddddddddd",2213:"dddddddddddddddddddddd3ddddddddddddddddd",2217:"Sanity Template",2219:"12",2223:"sub template_03282016150425",2227:"old subuser template_03282016150425",2231:"old sub user shared templateold sub user shared te_03282016150425",2235:"Mail Template - Abhijeet_03282016150425",2239:"dsadsad_03282016150425",2251:"dasdasda_03282016150426",2263:"@12378_03282016150426",2267:"ggsdjgjdshshhshsksjlk_03282016150426",2271:"@$##$$_03282016150426",2275:"ffhjj_03282016150427",2287:" >_03282016150427",2307:"vvvvvvtttttttttttttttttttt_03282016150428",2311:"1_03282016150428",2315:"QA @ Work_03282016150428",2453:"Test Template1004201610329",2457:"Test Template1004201641229",2459:"Test Template1004201641235",2467:"Test Template1004201641258",2475:"Test Template1004201641321",2623:"Rikola",3478:"Ananya Test Mail",3483:"message test template",3591:"HelloMan-Sudhanshoo",3593:"SudhanshooMishra-Test1",3594:"Refactor-SendMail",3595:"Sudhanshoo Refactor",3596:"Sudhanshoo-Refactor",3597:"SASaSASASASaSASA"},mailSubject:"demo subject",mailBody:"Demo mail body",attachmentData:{appId:"125",fileKeys:["Uc8c5a08f6c17eb64f10f82580d4c710","U46907e68ad94320c32a9744b041e31d","Ueb82fa0417c7f50efdfe8e64d9676e9","Ua884c250bf165740af93e031ee2ca6c","Ube873f8deb0910260d9909dd15dac4f","Uf5922bcf7671619261bd44025ec8c7e","U7c16f73dbfc3a4e5d8c278be22e8200","U83eb3d403e21501e3192bbbe8c0d7c0","Ueabb25698d1b2905b07186f58b85f59","U92a7e6928d63468a12fecab68c52a65"],formKey:"F59e1c95c104dd",targets:{saveFileUrl:"//test2.files.infoedge.com/frontend/saveFile.php",saveCloudUrl:"//test2.files.infoedge.com/frontend/saveUrlFile.php",deleteUrl:"//test2.files.infoedge.com/frontend/deleteFile.php"},extensions:["xls","xlsx","csv","doc","docx","pdf","rtf","zip","txt"],maxSize:5242880,maxNumOfFiles:10,totalMaxSize:52428800},ccList:[],copyToMe:!1,saveTemplate:!1,templateName:"",fromMailId:{configured:"qainfoedge1@gmail.com"},fromMailIdList:{},mailAttachments:[]}},"vg/G":function(e,t,a){}},[[40,1,0]]]);