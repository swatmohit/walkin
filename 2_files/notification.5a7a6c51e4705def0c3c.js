(window.rmsWebpackJsonp=window.rmsWebpackJsonp||[]).push([[12],{42:function(i,t,o){o("US+Y"),i.exports=o("jlHB")},"US+Y":function(i,t,o){"use strict";o.r(t);var e=o("LMli"),n=/chrome/.test(navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase())&&/google inc/.test(navigator&&navigator.vendor&&navigator.vendor.toLowerCase());try{if(n){!function(){var i,t=!1,o="pushNotifKey";function n(i){var t=new Date,e=i||7;localStorage.setItem(o,JSON.stringify({expiryDay:new Date(t.setHours(24*e,0,0,0)).getTime()}))}function a(i){var t={notificationType:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fiveStarBrowserNotification",action:i};$.ajax({method:"POST",url:"/pushNotification/track",dataType:"json",data:JSON.stringify(t),headers:{accept:"application/json","Content-Type":"application/json"},success:function(){},error:function(){}})}function s(){$(".notificationLayer").css({display:"none"})}firebase.initializeApp({apiKey:"AIzaSyDCAQaVsjqxCl5sppXveD00fczuXbzmrJE",authDomain:"pushnotification-8251d.firebaseapp.com",databaseURL:"https://pushnotification-8251d.firebaseio.com",projectId:"pushnotification-8251d",storageBucket:"pushnotification-8251d.appspot.com",messagingSenderId:"825528898516"}),(i=firebase.messaging()).usePublicVapidKey("BKezFEisQCWplMsqSJ64Ll4MvQuRDZL5b-2VrykAes_jk_c7Vz5Hi0eqEwmzj6PTRmVQuAJnZlfYuZfO-_ht_6s"),$(window).on("load",function(){t="undefined"==typeof fiveStarApplyNotifier||fiveStarApplyNotifier,"denied"!=Notification.permission&&void 0!==t&&!t&&"serviceWorker"in navigator&&($("body").append('<ul class="notification" id="srpNotf" style="display: block">\n\t\t\t<li> <a href="javascript:void(0)" class="notifyBell"></a>\n\t\t\t\t<div class="notifyBox" style="display: none;">\n\t\t\t\t<a href="javascript:void(0)"class="closeNotif"></a>\n\t\t\t\t<div class="popWrap">\n\t\t\t\t<p class="txt">Do you want to receive Notifications for 5 Star applications?</p>\n\t\t\t\t<a class="notifybtn notify-btn-primary hideBell" id="swReg" data-state="unsubs" href="javascript:">Yes</a>\n\t\t\t\t<a class="linkBlue hideNotf" href="javascript:" data-state="unsubs">Not Now</a>\n\t\t\t\t</div></div> </li> </ul>'),function(){var r=$("#srpNotf").find(".notifyBox");if("serviceWorker"in navigator){if(!t)if(localStorage.getItem(o)){var c=JSON.parse(localStorage.getItem(o)),f=c.expiryDay,l=(new Date).getTime();l>=f&&r.fadeIn()}else r.fadeIn();"serviceWorker"in navigator&&"PushManager"in window?(console.log("Service Worker and Push is supported"),navigator.serviceWorker.register("firebase-messaging-sw.js").then(function(t){console.log("Service Worker is registered",t),i.useServiceWorker(t)}).catch(function(i){console.error("Service Worker Error",i)})):console.warn("Push messaging is not supported")}r.on("click","#swReg",function(){"granted"===Notification.permission&&t||($("body").append("<div class=\"notificationLayer\" onclick=\"$('.notificationLayer').css({display:'none'})\">\n\t\t\t\t<div class='layerImg'><img src=\""+e.N+'/i/permission.svg"><span>Click  Allow Button to get notifications for 5 star CVs </span></div>\n\t\t\t\t</div>'),i.requestPermission().then(function(){return s(),i.getToken()}).then(function(i){s(),console.log(i),console.log("User is subscribed."),function(i){var o={notificationType:"fiveStarBrowserNotification",token:i,deviceType:"chrome"};$.ajax({method:"POST",url:"/pushNotification/device",dataType:"json",data:JSON.stringify(o),headers:{accept:"application/json","Content-Type":"application/json"},success:function(){t=!0},error:function(){}})}(i)}).catch(function(i){s(),a("Block"),console.log("Failed to subscribe the user: ",i)}),i.onMessage(function(i){console.log("onMessage: ",i)}))}).on("click",".hideNotf",function(){r.removeClass("isShow").hide(),"unsubs"==$(this).attr("data-state")&&(n(7),$(".notification").hide(),a("NotNow"))}).on("click",".hideBell",function(){$(".notification").hide(),a("Yes")}).on("click",".closeNotif",function(){n(1),$(".notification").hide(),a("CloseIcon")}),$(".notification li").mouseenter(function(){r.show()}).mouseleave(function(){r.hasClass("isShow")||r.hide()}),$(".notification .notifyBell").click(function(){r.addClass("isShow")})}())})}()}}catch(i){console.warn("error in notification",i)}},jlHB:function(i,t,o){}},[[42,1,0]]]);