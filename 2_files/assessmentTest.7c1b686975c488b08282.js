(window.rmsWebpackJsonp=window.rmsWebpackJsonp||[]).push([[17],{"0EFi":function(e,t,n){},51:function(e,t,n){n("nNAJ"),n("RU4C"),e.exports=n("Rq2j")},RU4C:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),s=n("i8i4"),o=n.n(s),i=n("LMli"),l=n("4Gi3"),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleDetailView=function(){var e=n.state.isOpen;n.setState({isOpen:!e})},n.state={isOpen:Object(l.w)("testId")===e.testId},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.PureComponent),c(t,[{key:"render",value:function(){var e=this.state.isOpen,t=this.props,n=t.testName,a=t.testId,s=t.assessmentResponse,o=t.testCompletionDate,l=void 0,c=void 0,u=void 0,d=void 0,p=void 0;return s&&s.overallResult&&(d=s.overallResult.passedIndicator,l=s.overallResult.passedIndicator?"Passed":"Failed",c=s.overallResult.score,u=s.detailedResult,p=s.report?s.report.key:""),r.a.createElement("div",{className:"testTuple",id:"test_"+a,onClick:this.toggleDetailView},r.a.createElement("div",null,r.a.createElement("span",{className:"tName"},n),r.a.createElement("span",{className:"tOn"},r.a.createElement("span",null,"Completed on: "),r.a.createElement("span",{className:"tDate"},o))),r.a.createElement("div",{className:"tDtl"},r.a.createElement("div",{className:"rsltStts"},r.a.createElement("span",{className:"ttl mr5"},"Result:"),r.a.createElement("img",{src:i.N+"/i/"+(d?"green":"red")+"CheckCircle.svg",alt:""}),r.a.createElement("span",{className:"desc"},l||"NA")),c&&c.marks&&c.percentage?r.a.createElement("div",{className:"dtl"},r.a.createElement("span",{className:"ttl"},"Score:"),r.a.createElement("span",{className:"desc"},c.marks.value+"/"+c.marks.maximum),r.a.createElement("span",{className:"ttl mlr5"},"("+c.percentage.value+"%)"),e?"":u&&u.length||p?r.a.createElement("a",{className:"ttl link"},"Details"):""):""),e&&(u&&u.length||p)?r.a.createElement("div",{className:"scores",onClick:function(e){return e.stopPropagation()}},u&&u.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"scrTtl"},"Topic Wise Scores"),r.a.createElement("div",{className:"scrDtl"},u&&u.map(function(e){return r.a.createElement("div",{className:"scr"},r.a.createElement("div",{className:"sName"},e.assessmentCompetency.name," :"),r.a.createElement("div",{className:"sValue"},e.score.marks.value+"/"+e.score.marks.maximum))}))):"",p?r.a.createElement("div",{className:"links"},r.a.createElement("a",{className:"link",href:"/assessment/proctor/"+p},"Detailed Reports")):""):"")}}]),t}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={tests:e.data},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.PureComponent),p(t,[{key:"render",value:function(){var e=this.state.tests;return e&&e.length?r.a.createElement("div",{id:"assessmentResults"},r.a.createElement("div",{className:"asmntHdr"},"Assessment Details ",r.a.createElement("sup",null,"Beta")),e.length?e.map(function(e){return r.a.createElement(u,d({},e,{key:e.testId}))}):""):""}}]),t}(),f=function(e){var t=e.resend,n=e.test,a=e.cancel,s=void 0,o=void 0,l=void 0,c=void 0;return n&&n.assessmentResponse&&n.assessmentResponse.overallResult&&(s=n.testName,o=n.assessmentResponse.overallResult.passedIndicator,l=n.assessmentResponse.overallResult.passedIndicator?"Passed":"Failed",c=n.assessmentResponse.overallResult.score),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mBody"},r.a.createElement("div",null,"Test ",r.a.createElement("strong",null,s)," has already been completed by the candidate."),r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("strong",null,"Result: "),r.a.createElement("img",{className:"rsltIcon",src:i.N+"/i/"+(o?"green":"red")+"CheckCircle.svg",alt:""}),r.a.createElement("span",null,l)),c&&c.marks&&c.percentage?r.a.createElement("span",{className:"ml70"},r.a.createElement("strong",null,"Score: "),r.a.createElement("span",{className:"mlr5"},c.marks.value,"/",c.marks.maximum),r.a.createElement("span",null,"(",c.percentage.value,"%)")):""),r.a.createElement("div",null,"Do you want the candidate to take this test again? This will overwrite the previous result and score of the candidate for this Test. It will also consume test credits as applicable.")),r.a.createElement("div",{className:"confFooter"},r.a.createElement("button",{autoFocus:!0,type:"button",className:"confBtn yes",onClick:t},"RESEND"),r.a.createElement("button",{type:"button",className:"confBtn no",onClick:a},"CANCEL")))},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n("0EFi");var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.PureComponent),v(t,[{key:"componentDidMount",value:function(){document.body.classList.add("oh")}},{key:"componentWillUnmount",value:function(){document.body.classList.remove("oh")}},{key:"render",value:function(){var e=this.props,t=e.modalBody,n=e.customWrapperClass,a=e.headerTitle,s=e.subtitle,i=e.cancelClickHandler,l=r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"modalWrapper "+n},r.a.createElement("div",{className:"modalHeader"},r.a.createElement("div",{className:"modalHeaderContent"},r.a.createElement("h1",null,a),r.a.createElement("p",null,s)),r.a.createElement("a",{className:"modalCloseIcon",onClick:i},"✖")),r.a.createElement("div",{className:"modalBody"},t)));return o.a.createPortal(l,document.body)}}]),t}(),b=h;h.defaultProps={customWrapperClass:"",headerTitle:"Dialog Popup Modal",subtitle:"",modalBody:"modal body component"};var y=n("VBXE"),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.showLoader=function(e){n.setState({showLoader:e})},n.resend=function(e){var t=n.props,a=t.send,r=t.test;e.stopPropagation(),n.showLoader(!0),a(r,"resend",n.showLoader)},n.state={showLoader:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.PureComponent),E(t,[{key:"render",value:function(){var e=this.state.showLoader,t=this.props.cancel;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(y.a,null):"",r.a.createElement(b,{modalBody:r.a.createElement(f,g({},this.props,{resend:this.resend})),headerTitle:"Resend Test to Candidate at this stage?",customWrapperClass:"resendTest",cancelClickHandler:t}))}}]),t}(),O=n("ZUL7"),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var j=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.send=function(e,t){var a=n.props.send;n.setState({inprogress:!0}),a(e,t)},n.state={inprogress:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.PureComponent),N(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.close,a=t.test,s=t.action,o=t.container,i=t.title,l=t.description,c=this.state.inprogress;return r.a.createElement("div",{id:"confirmation"},r.a.createElement(O.a,{title:i,description:l,successCallback:function(){e.send(a,s)},cancelCallback:function(){n(o)},successButtonText:"YES",rejectButtonText:"NO",disabled:c}))}}]),t}();n.d(t,"send",function(){return S}),n.d(t,"remind",function(){return B}),n.d(t,"close",function(){return P}),n.d(t,"createContainer",function(){return R}),n.d(t,"getAssessmetResults",function(){return k});var C=window,I=C.renderAssessmentTuple,T=C.showErrorMsg,_=C.candidateApplicationId,k=function(){var e=void 0,t="",n="",a=document.querySelectorAll("[data-id]");a&&a.length&&(t=(e=a[0].getAttribute("data-id")).split("_")[0]||"",n=e.split("_")[1]||""),Object(l.b)({url:i.m+i.h.getResults,method:"GET",data:{applicationId:_,projectId:window.projectId_gl,statusId:t,subStatusId:n,authTokenMapping:JSON.stringify(window.selectedTokenMapping)||""},crossOrigin:!0,headers:{Accept:"application/json","Content-Type":"application/json"},success:function(e){if(e&&e.applicationData&&e.applicationData.length){var t=e.applicationData,n=t.filter(function(e){return["CompletedTestPendingReport","OrderComplete"].includes(e.assessmentStatusId)});n.length&&o.a.render(r.a.createElement(m,{data:n}),document.getElementById("assessmentTestResults"),function(){"#assessmentTestResults"===window.location.hash&&document.getElementById("assessmentTestResults").scrollIntoView(!0)});var a=t.find(function(e){return e.isCurrentStage});a&&I&&document.getElementById(_)&&I(a,_,e.isHiringManager)}},error:function(e){console.error("error getting test results",e)}})};_&&k();var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"defaultContainer",t=document.createElement("div");return t.setAttribute("id",e),document.body.appendChild(t),t},P=function(e){var t=document.getElementById(e);t&&(o.a.unmountComponentAtNode(t),document.body.removeChild(t))},S=function(e,t,n){var a={assessmentTestId:e?e.testId:"",projectId:window.projectId_gl,applicationId:e?e.applicationId:"",statusId:e?e.statusId:"",subStatusId:e?e.subStatusId:"",authTokenMapping:JSON.stringify(window.selectedTokenMapping)||"",action:t},r=function(){P("send"===t?"testMail":"resendTest")},s=function(){"send"!==t&&"resend"!==t||(r(),T&&T("Test could not be sent due to a temporary issue. Please try again in some time."))};Object(l.b)({url:i.m+i.h.sendMail,method:"POST",data:JSON.stringify(a),success:function(e){n&&n(!1),e&&"TestPendingScheduling"===e.assessmentStatusId&&I?(I(e,e.applicationIdList[0]),r()):s()},error:function(){n&&n(!1),s()}})},B=function(e){var t={projectId:window.projectId_gl,applicationId:e.applicationId,vendorId:e?e.vendorId:"",statusId:e?e.statusId:"",subStatusId:e?e.subStatusId:"",authTokenMapping:JSON.stringify(window.selectedTokenMapping)||""},n=function(){P("testReminder"),T&&T("Reminder could not be sent due to a temporary issue. Please try again in some time.")};Object(l.b)({url:i.m+i.h.sendReminder,method:"POST",data:JSON.stringify(t),success:function(t){if(t&&200===t.responseCode){var a=document.getElementById("reminder_"+e.applicationId);a&&(a.innerHTML='<span class="success-icon result-icon" ></span><strong>Reminder Sent</strong> <span class="clr99 ml5"> just now</span>'),P("testReminder")}else n()},error:function(){n()}})};window.sendMail=function(e){S(e,"send")},window.sendTestReminder=function(e){var t=R("testReminder"),n={test:e,send:B,close:P,action:"remind",container:"testReminder",title:"Send Reminder to Candidate?",description:"Candidate will get a reminder mail to take the assigned test. No additional test credits will be deducted here."};o.a.render(r.a.createElement(j,n),t)},window.resendTest=function(e,t){var n=R("resendTest"),a={test:e,cancel:function(){P("resendTest")},deleteTest:t,send:S};o.a.render(r.a.createElement(w,a),n)}},Rq2j:function(e,t,n){}},[[51,1,0]]]);