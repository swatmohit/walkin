function createSelectRequirementDD(){"undefined"==typeof timesCall&&(timesCall=1,$n("#reqDDTabs li").addEvent("click",function(){if($n("#projectList").length){showLoader("_bodyContent",!1);var a=this,b=$n(a).attr("rel");$n(this).ajaxReq({type:"post",async:"true",data:"refineTab="+b,url:reqStatusListPath,success:function(c){reqDDCall(c,a,b)}})}}))}function reqDDCall(a,b,c){var d;d=a?JSON.parse(a):"",projectListObj={id:{projectList:[d]},maxHeight:200,ddPlusSuggestor:!0,placeHolderText:"Copy from an existing Requirement",onClickReq:function(a,b){
//if it is case of prefill
fetchStatusList($n("#hid_projectList").val()),$n("#autoFillProjectId").length>0&&($n("#autoFillProjectId").val(b),$n("#hiddenProjectName").val($n("#projectName").val()),$n("#hiddenProject").currObj().submit()),$n("#reqDDTabs").parent().removeClass("dspN").addClass("dspN")}},insDD=new DD(projectListObj),insDD.dataFromServer({URL:getProjectURL+"?refineTab="+c,appId:"8",suggestorName:"EMPLOYER",instance:"insDD",maxSuggestions:1e3}),
// insDD.dataFromServer({URL:getProjectURL+'?refineTab='+,appId:'8',suggestorName:'EMPLOYER',instance:'insDD',maxSuggestions:1000}); 
hideLoader(),$n("#reqDDTabs .active").removeClass("active"),$n(b).addClass("active"),attachEventForTabs()}function fetchStatusList(a){$n(this).ajaxReq({type:"post",async:"true",data:"projectId="+a+(window.pageToken?"&token="+window.pageToken:""),url:requirementLevelStatuseURL,success:function(a){generateCustomizedStatusList(JSON.parse(a))}})}function generateCustomizedStatusList(a){$n("#status").html("");var b;$.each(a,function(a,c){b=$("<option>",{value:c.statusId,text:c.text}),c.disabled&&b.attr({disabled:"disabled",title:"You do not have permission to change the status of this candidate."}),$("#status").append(b)})}function attachEventForTabs(){checkForFocus=0,$n("#inp_projectList").addEvent("focus",function(){checkForFocus=1,$n("#reqDDTabs").parent().removeClass("dspN")}),/*    $n('#inp_projectList').addEvent('blur',function(){
$n('#reqDDTabs').parent().addClass('dspN')

});*/
$n("body").addEvent("click",function(a){"undefined"!=typeof $n(a.target).parent().parent().parent().parent()?checkForFocus&&"reqDDTabs"!=$n(a.target).parent().parent().attr("id")&&"projectList"!=$n(a.target).parent().parent().parent().parent().attr("id")&&$n("#reqDDTabs").parent().addClass("dspN"):checkForFocus&&$n("#reqDDTabs").parent().addClass("dspN")})}function callPhoneTag(a){var b=a.id,c=b.split("_")[2];if(5!=b.split("_")[1])return!1;var d=document.querySelector("#candid_"+c+" #phoneNoForDisplay").innerHTML.trim();(0==d[0]||d.indexOf("+")==-1&&d.length<11)&&(d="+91"+d),window.open("https://web.whatsapp.com/send?phone="+d),$.ajax({url:"/tracking/action",dataType:"json",type:"post",contentType:"application/json",data:JSON.stringify({action:"Send Whatsapp Message"}),processData:!1,success:function(a,b,c){return!0},error:function(a,b,c){return!0}})}function callForScheduling(){
// var appIdsInOrder = getSelectedApplicationInOrder();
var a=selectedAppIds,b=0|$n("#isRejected").isChecked(),c=$n("#statusListDD").val();if(isBulkStatusChangeAllowed&&isBulkEdit?a=scheduleCount>0?editAppIds.slice(0,scheduleCount):editAppIds:isBulkStatusChangeAllowed&&(a=scheduleCount>0?a.slice(0,scheduleCount):a,editAppIds=a),b||reqCheck){if(isBulkStatusChangeAllowed&&!frmValidate.isValid()&&!b)return!1;if(isBulkStatusChangeAllowed&&(frmValidate.isValid()||b)){var d=$("#bulkStatusUpdateBtn").parent().find(".msg_errf").length;if(!window.isAllowedToChangeToOffer&&offerStages.indexOf($("#hid_statusListDD").val())>-1&&!d)return $("#bulkStatusUpdateBtn").parent().append('<div class="msg_errf">You do not have permission to change the status from Offer Stage.</div>'),!1;bulkInterviewSchedule(a,b,$("#hid_statusListDD").val())}else applyBulkStatusChange(a,b,c)}else showErrorMsg(" No option selected")}function scrollToTop(){0!=document.body.scrollTop||0!=document.documentElement.scrollTop?(window.scrollBy(0,-2e3),timeOut=setTimeout("scrollToTop()",5)):clearTimeout(timeOut)}function showCandidateProfileList(){param="keyword="+encodeURIComponent($n.trim($n("#keywordSearch").val())),loadWithParams(inboxurl+"/"+currentPageNo,showCandidateProfileSuccess,"POST",param)}function showCandidateProfileSuccess(a){$n("#profileListingDiv").html(a.responseText)}function deleteApplicationLightBox(){var a=getCheckedProfiles(),b=getCheckedProfilesApplicationIds(a);$n("#applicationIdCount").html(b.length),lightBox({contId:"deleteConfirm",close:"closeBtn7",contWidth:264,ecp:!0,fixedLayer:!0,returnFocus:!1,fLink:"flink1"}),b.length>1?($n("#singularPluralClose").html(" Applications"),$n("#appTxt").html(" these applications?")):($n("#singularPluralClose").html(" Application"),$n("#appTxt").html(" this application?"))}function deleteApplication(a){hideLayer();var b=getCheckedProfiles(),c=getCheckedProfilesApplicationIds(b),d=c.toString();$n(this).ajaxReq({type:"post",async:"true",datatype:"text",url:a,data:"&applicationId="+d,success:function(a){window.location.href=a}})}function getLightBoxForBulkDownload(a){var b=0;if(hideErrorMsg(),"function"==typeof getCheckedProfiles&&(b=getCheckedProfiles().length),0===b)return showErrorMsg("Please select the resume(s) you want to download"),0;$n("#formIdForDownloadTrackerValidation").val("downloadSrpForm"),$n("#submitButtonForDownloadTrackerValidation").val("download"),$n("#downloadprofilebyindex").html("");var c=($n('input[name="projectId"]').val(),getCheckedProfiles());clearAllPrefillTemplateDivs(),$n("#stick").length>0&&disableDiv("stick"),$n(this).ajaxReq({type:"post",async:"true",datatype:"text",url:getRemainingCountForDownloadCv,success:function(a){var a=JSON.parse(a);c.length>a.count?($n("#downloadError_msg").html("Error in downloading"),$n("#ltBoxTextForForwardRestrictionMsg").html("Download Failed. You cannot Download more than "+a.totalQuotaForDownload+" resumes per day through bulk Download . Quota consumed till now "+(a.totalQuotaForDownload-a.count)),lightBox({contId:"ltBoxTextForForwardRestriction",close:"forwardRestrictionBt",contWidth:543,ecp:!0,fixedLayer:!1,returnFocus:!1,fLink:"flink1",reset:!0}),$n("#stick").length>0&&enableDiv("stick")):(
// showLoader('_bodyContent');
// $n(this).ajaxReq({
// 	type: 'get',
// 	async: 'true',
// 	datatype: 'text',
// 	url: path + '?listType=' + listType + '&projectId=' + projectId,
// 	success: function (resp) {
// 		var respArr = JSON.parse(resp);
// 		$n('#downloadSRPPro').html(respArr['template']);
// 		downloadSelectedResumes();
// 		generateDropDown(respArr['templateJson'], respArr['preSelected']);
// 		addEventOnDownloadBulkProfileButton();
// 		parseScript('downloadSRPPro');
// 		if ($n('#stick').length > 0) {
// 			enableDiv('stick');
// 		}
// 		hideLoader();
// 		/*var respArr= JSON.parse(resp);
//                  var templateJson=respArr['templateJson'];
//                  $n('#downloadTemplateSelect').html(respArr['template']);
//                  generateDropDown(templateJson);*/
// 	},
// });
$n("#stick").length>0&&enableDiv("stick"),window.downloadApplicationTracker("BY_IDs"),hideLoader())}})}
//Removed due to download revamp
/* function addEventOnDownloadBulkProfileButton() {
	$n('#download.red_btn.center').addEvent('click', function () {
		var submitted = submitSrpDownloadForm('downloadSrpForm', downloadCandidateProfile);
		if (submitted) {
			hideLayer();
		}
	});
} */
function getOfferedCandidates(){var a=0;return a=window.isAllowedToChangeToOffer?$('input[name="profileIds[]"]:checked').parents(".srchTup").find('[data-offer="1"]').length:$('input[name="profileIds[]"]:checked').parents(".srchTup").find('[data-offerall="1"]').length}function handleMultipleStatusChange(a,b){var c='Please make sure you really intend to update the status of the selected <span class"bulkProfileCount">'+a+" </span>profile(s) before proceeding. This action cannot be reversed in a single go.";window.isAllowedToChangeToOffer&&b>0?c=" An offer letter is already pending for "+b+" Profile(s) out of "+a+". Changing the status or rejecting the candidate at this stage will result in cancellation of the offer.":window.isAllowedToChangeToOffer||(b===a?($n("#inp_statusListDD").attr({disabled:!0,title:"You do not have permission to change the status from Offer Stage."}),$n("#statusListDD").attr({disabled:!0,title:"You do not have permission to change the status from Offer Stage."}),$n("#isRejected").attr({disabled:!0,title:"You do not have permission to change the status from Offer Stage."}),$n("#bulkStatusUpdateBtn").attr({disabled:!0,title:"You do not have permission to change the status from Offer Stage."}),c=b+" profile(s) are in offer letter stage and the status for the same can not be changed.You do not have permission to change status."):b>0&&b<a&&($("#inp_statusListDD").removeAttr("disabled").removeAttr("title"),$("#statusListDD").removeAttr("disabled").removeAttr("title"),$("#isRejected").removeAttr("disabled").removeAttr("title"),$("#bulkStatusUpdateBtn").removeAttr("disabled").removeAttr("title"),c=b+" profile(s) are in offer letter stage and the status for the same can not be changed. Please make sure you really intend to update the status of the other selected "+(a-b)+" profile(s) before proceeding. This action cannot be reversed in a single go.")),$n("#ltBoxText").html(c),bulkInterviewSelectedItemList()}function bulkStatusLtBoxOpen(a,b,c){var d=$n("input[name=isRequirementInbox]").length,e=$n("input[name=projectId").val(),f=getOfferedCandidates();d&&isBulkStatusChangeAllowed?(hideLoader(),showLoader("_bodyContent"),$n(this).ajaxReq({type:"get",async:"true",datatype:"text",data:"projectId="+e,url:bulkStatusUpdateLB,success:function(d){offerStages=[];var e=JSON.parse(d),g={};$n("#bulkStatusUpdateLtBox .bulkStatusContainer").html(e.body),$.each(e.statusSubstatusList,function(a,b){g[b.statusId]=b.text}),arrObj={startTime:[e.timeDD,["38"]],endTime:[e.timeDD,["70"]],statusList:[g,Object.keys(g)[0]],subStatus:[e.interviewStages,Object.keys(e.interviewStages)[0]],interviewType:[e.interviewTypes,Object.keys(e.interviewTypes)[0]],interviewDuration:[e.durationDD,[sortPref+"1"]],breakDuration:[e.durationDD,[sortPref+"1"]],breakTime:[e.timeDD,[]]},interviewEmailList=e.contactList,interviewArr=e.interviewList,storeBulkdata(),handleMultipleStatusChange(a,f),lightBox({contId:"bulkStatusUpdateLtBox",contWidth:543,ecp:!0,fixedLayer:!1,returnFocus:!1,fLink:"flink1",reset:!1}),hideLoader(),b&&b(c),initializeBulkScheduling(),window.isAllowedToChangeToOffer||$.each(e.statusSubstatusList,function(a,b){b.disabled&&offerStages.push(b.statusId)})}})):(handleMultipleStatusChange(a,f),lightBox({contId:"bulkStatusUpdateLtBox",close:"bulkStatusUpdateBtn",contWidth:543,ecp:!0,fixedLayer:!1,returnFocus:!1,fLink:"flink1",reset:!0}),$("#isRejected").prop("checked",!1),hideLoader())}function handleSendAssessmentSelectionChange(a){var b=$("#bulkStatusUpdateLtBox .assessment-container .select-send-assessment input[type='checkbox']").is(":checked"),c=$("#bulkStatusUpdateLtBox .assessment-container .select-resend-assessment input[type='checkbox']").is(":checked");b||c?$("#bulkStatusUpdateLtBox #bulkStatusUpdateBtn").text("Update & Send Test"):$("#bulkStatusUpdateLtBox #bulkStatusUpdateBtn").text("Update")}function removeAssessmentDetailsFromStatusChangeBox(){$("#bulkStatusUpdateLtBox").find(".bulkStatusContainer .assessment-container").remove()}function appendAttachedTestDetail(a){var b={AssessmentNotLinked:1,CanSendAssessment:2,CannotSendAssessment:3};if(a&&a.status===b.CanSendAssessment){var c=a.linkedAssessmentDetails&&a.linkedAssessmentDetails.assessmentName;removeAssessmentDetailsFromStatusChangeBox(),$("#bulkStatusUpdateLtBox").find(".bulkStatusContainer").append('<div class="p15 assessment-container"><div class="p10 assessment-test-message">Test: <span class="assessment-name">'+c+'</span> is attached at this stage. Some of the selected candidates might have already taken this test</div><div class="select-send-assessment mt10 mb5"><div class="flex"><div class="left-side"><input type="checkbox" id="cb-select-send-assessment" onChange="handleSendAssessmentSelectionChange(event)" checked /></div><div class="right-side"><label for="cb-select-send-assessment">Send Test to only those candidates who have not been sent the test yet at this stage</label></div></div></div><div class="select-resend-assessment flex mt10 mb5"><div class="flex"><div class="left-side"><input type="checkbox" id="cb-select-resend-assessment" onChange="handleSendAssessmentSelectionChange(event)" /></div><div class="right-side"><label for="cb-select-resend-assessment">Resend the Test to only those candidates who have already been sent this test. <br> <p style="color:#666666">This will overwrite the previous result and score of candidates who have completed this Test. It will also consume additional test credits as applicable</p></label></div></div></div></div>')}else if(a&&a.status===b.CannotSendAssessment){var c=a.linkedAssessmentDetails&&a.linkedAssessmentDetails.assessmentName,d=a.message;removeAssessmentDetailsFromStatusChangeBox(),$("#bulkStatusUpdateLtBox").find(".bulkStatusContainer").append('<div class="p15 assessment-container"><div class="p10 assessment-test-message flex"><div class="left-side"><div class="cross"></div></div><div class="right-side"><div class="assessment-cannot-send">Test: <span class="assessment-name">'+c+'</span> will not be sent to candidates.</div><div class="assessment-error-message">'+d+"</div></div></div></div>")}else a&&a.status===b.AssessmentNotLinked&&removeAssessmentDetailsFromStatusChangeBox();handleSendAssessmentSelectionChange()}function getTestDetailForSelectedStage(a){showLoader("_bodyContent",!1);var b="/assessment/details/bulk";$.ajax(b,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},data:JSON.stringify(a)}).done(function(a){appendAttachedTestDetail(a),hideLoader()}).fail(function(a){}).always(function(){hideLoader()})}function handleAssessmentOnStatusChange(){var a=$('input[type="hidden"][id="isAssessmentMappedToRequirement"]').val();if("1"===a){var b=$("#hid_statusListDD").attr("value").split("_"),c=b[0],d=b[1]||"",e=selectedAppIds||[],f=$n('input[name="projectId"][type="hidden"]').val(),g={applicationIds:e,projectId:parseInt(f),stage:{statusId:c,subStatusId:d}};getTestDetailForSelectedStage(g)}}function getSelectedApplicationInOrder(){for(var a=$('input[name="profileIds[]"]:checked'),b="",c=[],d=0;d<a.length;d++)b=$("#applicationIds_"+$(a[d]).val()),c[d]=b.val();return c}
//Prefix Function
/*function prefixedKeys(o, prefix) {
    var new_key, old_key;
    for (keys in o) {
        new_key = prefix+keys;
        old_key = keys;
        Object.defineProperty(o, new_key,
        Object.getOwnPropertyDescriptor(o, old_key));
        delete o[old_key];
    }
    return o;
}*/
function applyBulkStatusChange(a,b,c){var d="appIds="+JSON.stringify(a)+"&isRejected="+b+"&statusId="+c+(window.selectedTokenMapping?"&authTokenMapping="+JSON.stringify(window.selectedTokenMapping):"&token="+window.pageToken);$n(this).ajaxReq({type:"post",url:urlBulkStatusApply,data:d,success:function(a){hideLoader(),hideLayer();var b=JSON.parse(a);$n("#bulkStatusMsgBox").html(b.body),$n("#bulkStatusMsgBox").show(),scrollToTop(),b.status&&($n("#facetDisplayDiv").currObj()?updateTotalPage(pageChangeAjaxUrl,facetFormId,profileListingDivId):getNextPage(hiddenFacetInboxUrl,facetFormId,profileListingDivId)),$("#bulkStatusUpdateLtBox .close_btn")[0].click()}})}
//var bulkLB;
function bulkInterviewSchedule(a,b,c){var d=$("#bulkStatus").serialize(),e=JSON.stringify(interviewEmailList),f=$("#hid_interviewDurationDD").val().split("_")[1],g=$("#hid_breakDurationDD").val().split("_")[1],h=$n('input[name="projectId"]').val();d+="&appIds="+JSON.stringify(a)+"&intervwEmailListObj="+e+"&duration="+f+"&breakDuration="+g+"&projectId="+h+"&isRejected="+b+(window.selectedTokenMapping?"&authTokenMapping="+JSON.stringify(window.selectedTokenMapping):"&token="+window.pageToken);var i=($('input[type="hidden"][name="isAssessmentMappedToRequirement"]').val(),$("#bulkStatusUpdateLtBox .assessment-container .select-send-assessment input[type='checkbox']").is(":checked")),j=$("#bulkStatusUpdateLtBox .assessment-container .select-resend-assessment input[type='checkbox']").is(":checked");d+="&sendToNew="+JSON.stringify(i===!0?1:0),d+="&resendToAll="+JSON.stringify(j===!0?1:0),$n(this).ajaxReq({type:"post",url:urlBulkStatusApply,data:d,success:function(a){
//bulkLB = $('.bulkStatusContainer').clone(); storing elements doesnt store the event listners on the elements.
hideLoader(),hideLayer();var b=JSON.parse(a);updateStore(),$n("#bulkStatusMsgBox").html(b.body),$n("#bulkStatusMsgBox").show(),scrollToTop(),b.status&&($n("#facetDisplayDiv").currObj()?updateTotalPage(pageChangeAjaxUrl,facetFormId,profileListingDivId):getNextPage(hiddenFacetInboxUrl,facetFormId,profileListingDivId)),$("#bulkStatusUpdateLtBox .close_btn")[0].click()}})}function editBulkApplicationStatus(){isBulkEdit=!0,
//$('.bulkStatusContainer').replaceWith(bulkLB[0]);
initBulkLBforEdit(),lightBox({contId:"bulkStatusUpdateLtBox",contWidth:543,ecp:!0,fixedLayer:!1,returnFocus:!1,fLink:"flink1",reset:!1})}function deleteMultipleApplicationsLBox(){if($n('input[type="checkbox"]:checked.srpListChk').length>0){showLoader("_bodyContent",!1);var a=getCheckedProfiles(),b=getCheckedProfilesApplicationIds(a),c=b.toString();$n(this).ajaxReq({type:"post",async:"true",data:"applicationIds="+c+(window.selectedTokenMapping?"&authTokenMapping="+JSON.stringify(window.selectedTokenMapping):"&token="+window.pageToken),url:deleteBulkApplicationUrl,success:function(a){$n("#bulkDeleteApplication").html(a),lightBox({contId:"multipleDelApplication",close:"multipleDelApplicationClose",contWidth:632,ecp:!0,fixedLayer:!0,returnFocus:!1,fLink:"flink1"}),hideLoader()}})}else showErrorMsg(" Please select the resume(s) you want to delete")}function deleteMultipleApplications(){var a=getCheckedProfiles(),b=getCheckedProfilesApplicationIds(a),c=b.toString();$n("#appIdsToBeDeleted").val(c),$n(this).ajaxReq({type:"post",async:"true",data:"applicationId="+$n("#appIdsToBeDeleted").val()+"&isBulk=1"+(window.selectedTokenMapping?"&authTokenMapping="+JSON.stringify(window.selectedTokenMapping):""),url:multipleApplicationDeleteUrl,success:function(){$n("#facetDisplayDiv").currObj()?updateTotalPage(pageChangeAjaxUrl,facetFormId,profileListingDivId):getNextPage(hiddenFacetInboxUrl,facetFormId,profileListingDivId),hideLayer()}})}function getAddOrRemoveLightBox(a,b,c){a+="?authTokenMapping="+JSON.stringify(window.selectedTokenMapping||""),"removeDuplicate"==c&&(a+="&removeDuplicate=1"),submitFormWithParams(facetFormId,a,function(a){var d=JSON.parse(a.responseText);"add"==b?($n("#addBackupAllAndFilteredLtBox").html(d),lightBox({contId:"addBackupAllAndFilteredLtBox",close:"addBackupAllAndFilteredBtn",contWidth:543,ecp:!0,fixedLayer:!1,returnFocus:!1,fLink:"flink1",reset:!0})):"removeDuplicate"==c?($n("#removeBackupAllAndFilteredLtBox").html(d),lightBox({contId:"removeBackupAllAndFilteredLtBox",close:"removeBackupAllAndFilteredBtn",contWidth:543,ecp:!0,fixedLayer:!1,returnFocus:!1,fLink:"flink1",reset:!0})):($n("#removeBackupDuplicatesLtBox").html(d),lightBox({contId:"removeBackupDuplicatesLtBox",close:"removeBackupDuplicateBtn",contWidth:543,ecp:!0,fixedLayer:!1,returnFocus:!1,fLink:"flink1",reset:!0}))},{})}function addOrRmoveBackupAllandFilter(a){urlForAddAndRemove+="?authTokenMapping="+JSON.stringify(window.selectedTokenMapping||""),"removeBackupDuplicateBtn"==a&&(urlForAddAndRemove+="&removeDuplicate=1"),submitFormWithParams(facetFormId,urlForAddAndRemove,function(a){var b=JSON.parse(a.responseText);1==b.success?showSuccessMsg(b.message):showErrorMsg(b.message)},{}),$n("#facetForm").attr("action",""),hideLayer()}function inboxCloseProject(){var a=$n('input[name="projectId"]').val();showLoader("_bodyContent",!1),$n(this).ajaxReq({type:"post",async:"true",datatype:"text",url:projectCloseURL+"?projectStr="+$n.trim(a),success:function(a){hideLayer(),a=JSON.parse(a),a.successMessage?showSuccessMsg(a.successMessage):showErrorMsg("Some error has occured while closing requirement"),hideLoader()}})}function bulkDownloadActionForSelectButton(a,b){"1"==b?getLightBoxForBulkDownload(a):downloadFromSRPSelectOption("downloadFromSelectOption",downloadCandidateProfile)}function getBaseUrl(a){var b=(window.location.href,[location.protocol,"//",location.host,location.pathname].join(""));return b}function getUrlQParams(a){for(var b,c=[],d=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),e=0;e<d.length;e++)b=d[e].split("="),
// vars.push(hash[0]);
c[b[0]]=b[1];return c[a]}function trackingPush(a,b){"undefined"==typeof b&&(b="fiveStarBrowserNotification");var c={notificationType:b,action:a};$.ajax({method:"POST",url:"/pushNotification/track",dataType:"json",data:JSON.stringify(c),headers:{accept:"application/json","Content-Type":"application/json"},success:function(){},error:function(){}})}function getQueryStringValue(a){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(a).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}
//$n('.tip_card_throbber').click(function(event){
function openThrobberMsg(a,b){b.stopImmediatePropagation(),"undefined"!=typeof throbElem&&(throbElem.hide(),throbElem.parent().parent().parent().childrens(".throbbing").show()),$n(a).hide();var c=a.parentElement.parentElement.offsetLeft,d=screen.width-c,e=$n(a).attr("data-id");throbElem=$n(a).parent().parent().childrens(".msgThrob"),throbElem.html(htmlString[e]),throbElem.show(),d<400&&$n(".introjs-tooltip").css({"min-width":d-30+"px"}),attachEventForThrobb()}function attachEventForThrobb(){
// btn.addEventListener('click', function() { console.log(i); });
$n(".introjs-nextbutton").click(function(a){a.stopImmediatePropagation();var b=$n(this).parent().parent().parent().parent().childrens("div").eq(0).childrens(".throbbing").attr("id");$n(this).ajaxReq({type:"post",data:"iconId="+b,url:updateThrobbingListURL,success:function(a){var b=JSON.parse(a);1==b.status&&(
//$n('.msgThrob').hide();
throbElem.hide(),$n("#"+b.iconId).parent().html(""))}})}),$n(".introjs-skipbutton").click(function(a){a.stopImmediatePropagation(),$n(this).parent().parent().parent().hide(),$n(this).parent().parent().parent().parent().childrens(".throbbing").show()}),$n(".introjs-tooltiptext").click(function(a){a.stopImmediatePropagation()})}$n(document).ready(function(){createSelectRequirementDD(),$n(".closeSingleProject").addEvent("click",function(){lightBox({contId:"closeSingleCont",close:"closeSingleProjectBtn",contWidth:410,ecp:!0,fixedLayer:!1,returnFocus:!1,fLink:"flink1"})})});var editAppIds=[],isBulkEdit=!1,offerStages=[];$n(document).ready(function(){$n("#_bodyContent").addEvent("click",function(a){var a=a||window.event,b=a.target||a.srcElement,c=b.getAttribute("id");if("mulipleStatusChange"==c){if($("#bulkStatusUpdateBtn").parent().children(".msg_errf").remove(),isBulkEdit=!1,hideErrorMsg(),hideSuccessMsg(),1==isBulkStatusChangeAllowed){for(var d=1;d<selectedReqIds.length;d++)if(selectedReqIds[d].trim()!==selectedReqIds[0].trim()){reqCheck=!1;break}reqCheck&&(reqId=selectedReqIds[0]),$n("#statusListDD").removeAttr("disabled"),$n("#statusWarn").hide(),$n("#isRejected").uncheckAll()}selectedIdArray.length>0||$n(".srpTopChk").isChecked()?"1"!=isEnterprise||reqCheck?1==isBulkStatusChangeAllowed?(showLoader("_bodyContent",!1),$n(this).ajaxReq({type:"post",async:"true",data:"projectId="+reqId+(window.selectedTokenMapping?"&authTokenMapping="+JSON.stringify(window.selectedTokenMapping):"&token="+window.pageToken),url:piplelineStatusListPath,success:function(a){$n("#statusListDD").html(""),statusListArr=JSON.parse(a);var b={};$.each(statusListArr,function(a,c){option=$("<option>",{value:c.statusId,text:c.text}),c.disabled&&option.attr({disabled:"disabled",title:"You do not have permission to change the status of this candidate."}),c.isOfferAndJoining&&(b[c.statusId]=!0),$("#statusListDD").append(option)}),$("#statusListDD").attr("data-Offerlist",JSON.stringify(b)),hideLoader();var c;if(statusListArr&&statusListArr.length){
//handleAssessmentOnStatusChange();
var d=statusListArr[0].statusId.split("_"),e=d[0],f=d[1]||"",g=selectedAppIds||[],h=$n('input[name="projectId"][type="hidden"]').val();c={applicationIds:g,projectId:parseInt(h),stage:{statusId:e,subStatusId:f}},getTestDetailForSelectedStage(c)}bulkStatusLtBoxOpen($n('input[type="checkbox"]:checked.srpListChk').length,getTestDetailForSelectedStage,c)}})):bulkStatusLtBoxOpen($n('input[type="checkbox"]:checked.srpListChk').length):(bulkStatusLtBoxOpen($n('input[type="checkbox"]:checked.srpListChk').length),$n("#statusListDD").attr("disabled",!0),$n("#statusWarn").show()):showErrorMsg(" Please select atleast one resume(s) for which you want to change the status")}}),$(document).on("click","#editCVName",function(){var a=!1;a=$(this).is(":checked"),a?($("#cvNameOptions").removeClass("dsPN"),$("#editCVName").val("1")):($("#cvNameOptions").addClass("dsPN"),$("#editCVName").val("0"))}),$(document).on("change","#editCVNameSelect",function(){var a=$(this).val();$("#editCVHidden").val(a)});
//var refineit = new projectRefine({ids: '#refinewrap', jsondata: refinejson, selectedjson: refinedjson, tagid: '#refinetag', showlength: 40, scrollfunc: scrollbar, tagremoveCallback: tagremovefunc});
/*var ddl = $n('#refinewrap_Data').val();
     var ddl2 = JSON.parse(ddl);
     for (var d in ddl2) {
     }*/
//menu  call
//var navigationdrop = new navdown({id: ['.menu1'], menu: true, menu_postion: 'horz'});
// lightbox call
$n("#savefolderLB").addEvent("click",function(){lightBox({trigger:"savefolderLB",contId:"saveFolderCont",close:"closeBtn",contWidth:666,ecp:!0,fixedLayer:!1,returnFocus:!1,fLink:"flink1"})}),$n("#bulkStatusUpdateBtn").addEvent("click",function(a){a.preventDefault(),$("#hid_emailDD").length&&$("#hid_emailDD").attr("name","emailSelected"),callForScheduling()}),$n("#_bodyContent #isRejected").addEvent("click",function(){$n(this).isChecked()?$n("#statusListDD").attr("disabled",!0):reqCheck&&$n("#statusListDD").removeAttr("disabled")}),$n(".reqStatus").click(function(){showLoader("_bodyContent",!1);var a=$n(this).val();$n(this).ajaxReq({type:"post",async:"true",data:"reqStatus="+a,url:reqStatusListPath,success:function(b){var c;c=b?JSON.parse(b):"",projectListObj={id:{projectList:[c]},maxHeight:200,placeHolderText:"Select Requirement",ddPlusSuggestor:!0};var d=new DD(projectListObj);d.dataFromServer({URL:getProjectURL+"?status="+a,appId:"8",suggestorName:"EMPLOYER",instance:"insDD",maxSuggestions:1e3}),hideLoader(),attachEventForTabs()}})}),$n("#bulkDelApplications").click(function(){lightBox({trigger:"delApplicationTrigger",contId:"deleteConfirm",close:"closeBtn7",contWidth:500,ecp:!0,fixedLayer:!1,returnFocus:!1,fLink:"flink1"})}),$n("#saveSearchLboxTrigger").click(function(){lightBox({trigger:"saveSearchLboxTrigger",contId:"saveSearchLbox",close:"saveSearchCloseBtn",contWidth:480,ecp:!0,fixedLayer:!1,returnFocus:!1,firstFocus:"saveSearchCloseBtn",fLink:"flink1"})}),$n("#saveSearchBtn").click(function(){var a=$n("#saveSearchForm").attr("target");submitFormWithParams("saveSearchForm",a,function(a){var b=JSON.parse(a.responseText);if(1==b.status)$n("#saveSearchForm .msg_errf").html(""),hideLayer(),$n("#successCheckBoxMsg").html(b.message),$n("#SuccessMessageDiv").removeClass("dspN");else{var c=b.errors;for(inputId in c){var d="#"+inputId+"_err";$n(d).length&&$n(d).html(c[inputId])}}})})}),$(document).ready(function(){$("#rpSendForwardEmail")&&$("#rpSendForwardEmail").attr("data-inboxtype")&&"reqInbox"===$("#rpSendForwardEmail").attr("data-inboxtype")&&getTestTupleForCandidate(reqObjForGetTestTuple())});
//Back To Top
var timeOut;$(document).on("click","#viewAllCVsNotif",function(){var a=window.location.href.split("?")[0];window.location.href=a+"?viewCVs=All"}),$(document).on("click","#viewAllCVs",function(){var a=window.location.href,b=a.indexOf("?")>-1?"&":"?";window.location.href=a+b+"viewCVs=All"}),$(document).on("click","#dontFltrByRtg",function(){var a=getBaseUrl();if(window.location.href.indexOf("?jobId=")>-1){var b=getUrlQParams("jobId");return void(window.location.href=a+"?jobId="+b+"&viewCVs=All&showDefRtgFltrd=0")}window.location.href=a+"?viewCVs=All&showDefRtgFltrd=0"}),$(document).on("click","#undoRtgFltr",function(){var a=getBaseUrl();if(window.location.href.indexOf("?jobId=")>-1){var b=getUrlQParams("jobId");return void(window.location.href=a+"?jobId="+b+"&showDefRtgFltrd=1")}window.location.href=a+"?showDefRtgFltrd=1"}),$(document).on("click","#crossInfoStrip",function(){$(".infoStrip").hide()}),$(document).on("click","#facetItemsListingDiv_RATING",function(){$(".infoStrip").hide()}),$n(document).ready(function(){var a='<div class="wrap infoStrip">    <div class="ico">        <span class="infoIco">i</span>    </div>    <div class="textInfo">        <strong class="row1">            Displaying 5 star profiles.        </strong>        <div class="row2">            We are showing only 5 star profiles by default.            <a id="viewAllCVsNotif">View all CVs</a>        </div>    </div>    <span id="crossInfoStrip" class="crossIco">&#x2715;</span></div>';"fiveStarBrowserNotification"==getQueryStringValue("_REF")&&($("#pushStarRatingStrip").html(a),trackingPush("actionBox1"))}),$n(document).ready(function(){var a=$n(".throbb");for(i=0;i<a.length;i++)a.eq(i).parent().parent().css({overflow:"visible"})});var htmlString={1001:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Email</h2>Two types of Email can be sent to jobseekers.<br><br><span class="blue">Send Message</span> Send messages to applicants about the recruitment process. You can now add Candidate Tags and personalize these mails <br><br><span class="blue">Send Requirement</span>Send Requirement allows you to share these Requirement/Job details with potential applicant base<br><br></div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a<a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',1002:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Add to Requirement</h2> You can now copy a candidate\'s profile from one Requirement to another.<br><br><span class="blue">Requirement</span>Requirement is a super-set of a Job. A Requirement inherits all properties of a Job and tracks all applications sourced for that position in one place.<br><br><span class="blue">Selecting a pipeline stage</span> When copying profiles from one Requirement/Job to another, select a pipeline status to track these profiles better<br><br></div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',1003:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>User-defined Star Rating</h2> Give custom star-rating to every candidate profile you evaluate.<br><br><span class="blue">Star Rating of Applicants</span>Star Rating for every applicant is automatically calculated basis relevance of the applicant’s profile to the applied job.<br><br><span class="blue">Custom Star Rating</span> Recruiter can update the star rating of the applicant as per observed relevance for the role. All ratings provided for that application can also be viewed here.<br><br></div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',1004:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Applicant Pipelining</h2>You can now shortlist applicants, reject or pipeline them against respective stages from their profile tuple, individually.<br><br><span class="blue">Pipeline Stages supported</span><b>Prospect:</b> Mark those profiles as Prospect which you feel might be relevant for the job but need further scrutiny<br><b>Applied-Matching:</b> Applications that match the PAF settings are marked as Matching by default<br><b>Shortlisted:</b> Mark initially screened and evaluated candidates as Shortlisted<br><b>Interview-Round 1:</b>Pipeline candidates for Interviews and send them Calendar Invites for the process<br><b>Interview-Round 2:</b>Pipeline candidates for further interview rounds if necessary<br><b>Interview-Round 3:</b> Pipeline candidates for further interview rounds if necessary<br><b>Offers & Joining – Offered:</b> Mark candidates as Offered those who have been selected for the position. You can also enter their Offer details<br><b>Offers & Joining – Joined:</b> Candidates are marked as Joined if they have accepted the offer and finally joined<br><br></div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',1005:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Profile Activity Filter for Applicants</h2> Recruiters can filter out and view applications based on certain activities performed on them.<br><br><span class="blue">Processed by Me</span>  Filter out only those applicant profiles which you have already viewed, sent emails to, contacted/called, pipelined for further stages, provided a star rating or downloaded resume. <br><br><span class="blue">Processed by Anyone</span>Filter out and identify those applicant profiles which have already been processed by other recruiters for that particular Job/Requirement<br><br><span class="blue">Not Yet Processed</span>Filter out and work on only those applicant profiles which have not been processed be any recruiter for that particular Job/Requirement</div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',1006:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Application Date Filter</h2> Recruiters can filter out and view applicant profiles based on the date of application to that Job.<br><br><span class="blue">Filter on pre-defined date ranges</span>View only those candidate’s profiles who have applied “Today”, in the last few days, or the last few months.<br><br><span class="blue">Filter on custom date range</span>Choose a custom calendar date and view all candidates who have applied in that date range<br><br></div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',1007:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Current Location Filter</h2>Recruiters can now filter out and view applicant profiles based on their current location.<br><br></div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',1008:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Added By Filter</h2>You can also track applicants basis which recruiter is responsible for sourcing them for the Job/Requirement.<br><br><span class="blue">Applications Added By Active Recruiters</span> Active Recruiters are sub-users in Naukri who currently have eApps permissions. Applications that are sourced by these recruiters can be filtered out using this option.<br><br><span class="blue">Applications Added By Inactive Recruiters</span>Inactive Recruiters are sub-users in Naukri who no longer have permissions to access responses in eApps. Applications that are sourced by these recruiters can also be filtered out using this option<br><br></div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',2001:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Managing Folders</h2>Create new folders and manage already existing ones.<br><br><span class="blue">Creating new Folders</span> Click on the Post/Create button and select the “New Requirement” option. Fill up the Requirement name, provide Visibility settings for folder and continue. <br>A Folder is a Requirement which has only candidate profiles associated with it but no jobs.<br><br><span class="blue">Editing Folder name</span> Click on Modify option present against already created folders, select the “Edit” option and you can edit the name of previously created folders</div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',2002:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Search for profiles across select Folders</h2>You can click on one or more of these folders and trigger a search for suitable profiles that may be available in these folders by clicking on the “Search Selected Requirements” button.</div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',2003:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Set Visibility of Folders</h2>Control which recruiters have visibility to the folders created in eApps<br><br><span class="blue">Selecting Visibility</span> Select the folder which you want to share/un-share from recruiters, click on the “Set Visibility” button and select one of the following modes:<br><b>Visible to Only Me:</b> This setting ensures that the folder is not shared with any other recruiter in the system. Only the super-user will additionally be able to see the Folder.<br><b>Visible to All:</b> This ensures that the folder is visible to all the recruiters in the system.<br><b>Visible to Selected People:</b> Allows you to share the folder with only a few recruiters from the list of all recruiters who have eApps permissions.</div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',3001:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Create New Email Templates</h2>Create templates that you need for sending out emails to candidates<br><br><span class="blue">Select type of Email Template</span>You can add 3 types of email templates using the system:<br>1.Message<br>2.Status Change<br>3.Send a Requirement<br><br><span class="blue">Provide Email template details</span>Provide a name to the template, configure sender mail id, provide subject and mail body details and save the template</div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',3002:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Search for created templates</h2>Quickly search for the templates that you have already created by providing the name of the template in the “Quick Search Templates” search box</div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',4001:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Choose Requirement for OMJ</h2>Source CVs from other medium for the positions that you are hiring for<br><br><span class="blue">Select an already existing position that you are hiring for</span>Click on the “Select a Requirement” drop-down and choose the Requirement for which you are sourcing these CV<br><br><span class="blue">Select a new position that you want to hire for</span>Click on the “Add New” button, provide the “Title” of the Requirement for which you are hiring, fill in other relevant details, choose the “Visibility” of the Requirement and continue</div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',4002:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Select Medium to Source from</h2>You can select existing Medium from which to source applications for your Requirement or you can create new Mediums too<br><br><span class="blue">Choose an existing Medium</span>All existing Medium in your system will be displayed under the “Choose Vendor” section. Click on the checkbox against any vendor/medium name and select that medium<br><br><span class="blue">Create a New Medium</span>Click on the “Add Vendor” link displayed under the “Choose Vendor” section. Enter the name of the medium in the “Name of Vendor” text-box. In case you are sourcing CVs for the position from an external Vendor, enter the Name of the Vendor and his/her Email Id in the “Email ID” text-box and Save and continue<br><br><span class="blue">URL created to source CVs</span>Once the required Medium or Vendor is/are selected, a URL is created for the same and this can be used to source the necessary CVs. This is present under the “Vendor Selected” section.<br></div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',5001:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Duplicate Check on Email</h2>When uploading a candidate’s resume, you can now check upfront if the candidate’s profile already exists in your system.<br>Enter the Email Id of the candidate in the “Email” field. If the candidate’s profile already exists, the system prompts the same and displays which other Requirements/Jobs the profile is mapped to already.</div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>',6001:'<div class="introjs-tooltip"><div class="introjs-tooltiptext"><h2>Managing Reports</h2>The super-user gets access to a highly detailed report that tracks all Jobs/Requirements that are being worked on in the system<br><br><span class="blue">Viewing Saved Report</span>You have the option to create and save one report to track the activities performed in your system. You can view these details by clicking on the “View” link.<br><br><span class="blue">Editing Saved Report</span>You can also edit the metrics that your report should track. Just click on the “Edit” link and you can select from the following options:<br>1. Selecting Recruiters<br>2. Selecting Sources<br>3. Selecting Requirements<br>4. Selecting Requirements basis their Status<br>5. Selecting Columns to show in the Report<br>6. Selecting Time Period of the Report<br>7. Selecting Type of the Report – Hourly, Daily or Consolidated<br>8. Type mode of viewing the Report – On Screen, Downloadable, or Scheduled<br><br></div><div class="introjs-arrow top"></div><div class="introjs-tooltipbuttons"><a class="introjs-button introjs-skipbutton" href="javascript:void(0);">Skip</a><a href="javascript:void(0);" class="introjs-button introjs-nextbutton red_btn">Done</a></div></div>'};