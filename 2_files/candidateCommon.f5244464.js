function checkVendor(a){var b=$("#on_"+a),c=$("#when_"+a),d=$("#vendor_duration_"+a),e=$("#remarks_"+a),f=$("#vendor_instructions_"+a);b.hasClass("dspN")?b.removeClass("dspN"):b.addClass("dspN"),c.hasClass("dspN")?c.removeClass("dspN"):c.addClass("dspN"),d.hasClass("dspN")?d.removeClass("dspN"):d.addClass("dspN"),e.hasClass("dspN")?e.removeClass("dspN"):e.addClass("dspN"),f.hasClass("dspN")?f.removeClass("dspN"):f.addClass("dspN")}function populateAmountData(a){var b=$n("#"+a).childrens(":selected").attr("value");
//   var amnt = $n('input[name=]').val();
if(3==b){var c=$n('input[name="status[BILLAMT]"]').val();null!=c&&$n('input[name="status[PAYMENT_VALUE]"]').val(c)}$n("#payment").val(b)}function populateAmount(a){var b=$n("#"+a).childrens(":selected").attr("value"),c=$n("input[name=]").val();if(3==b){var c=$n("input[name=BILLAMT]").val();null!=c&&$n("input[name=PAYMENT_VALUE]").val(c)}$n("#payment").val(b)}function updatePhoneTag(a,b,c,d,e,f,g){if(b&&""!=b&&c&&""!=c){f=!("undefined"==typeof f||!f);
// logic to get profile id
var h={},i="",j="";if(g)
// the call is from CV Details page
h=Object.assign({},window.selectedTokenMapping);else{
// the call is from SRP
var k=document.getElementById(d),l=k.querySelector("ul[name=callStatus]");if(l){var g=l.getAttribute("profileid");g&&document.getElementById("tupleAuthProfileToken_"+g)&&(i=$n("#tupleAuthProfileToken_"+g).val()),g&&document.getElementById("tupleAuthToken_"+g)&&(j=$n("#tupleAuthToken_"+g).val()),h[g]=i,h[d]=j}}showLoader("_bodyContent",!1),a+="?tag="+b+"&id="+c+"&applicationId="+d+"&candidateId="+e+"&profileId="+g+"&authTokenMapping="+(h?JSON.stringify(h):""),loadWithParams(a,function(a){
//update count in processed
hideLoader(),f&&$n("#facetDisplayDiv").currObj()&&expandFacet("facetForm","PROCESSED","facetItemsListingDiv_PROCESSED",!0)},"POST",{})}}function removeParamsForVendor(a){var b,c,d="",e=a,f=e,g=f.split("&");for(c=0;c<g.length;c++)b=g[c].split("="),"interviewDate"!=b[0]&&"interviewTimeAmPm"!=b[0]&&"interviewTimeHH"!=b[0]&&"interviewTimeMM"!=b[0]&&"remarks"!=b[0]&&"duration"!=b[0]&&(d=d+b[0]+"="+b[1]+"&");return d.substring(0,e.length-1)}function submitApplicationStatusChangeForm(formId,url,applicationId){var str="",error=!1,vendorName="",askVendorToSchedule=!1;if($("#checkbox_"+applicationId).prop("checked")&&(askVendorToSchedule=!0,$("#vendorSource_"+applicationId).length&&(vendorName=$("#vendorSource_"+applicationId).val())),$n("#"+formId+" input[name=interviewDate]").currObj()){var intervwEmailListObj=JSON.stringify(intervwEmailList),selectedEmailList=$n("#"+formId+" #hid_intrvwEmail"+applicationId).val(),STAGE=encodeURIComponent($n("#"+formId+" select[name=STAGE]").val()),TYPE=encodeURIComponent($n("#"+formId+" select[name=TYPE]").val()),VENUE=encodeURIComponent($n("#"+formId+" input[name=VENUE]").val()),interviewDate=$n("#"+formId+" input[name=interviewDate]").val(),interviewTimeAmPm=$n("#"+formId+" select[name=interviewTimeAmPm]").val(),interviewTimeHH=$n("#"+formId+" input[name=interviewTimeHH]").val(),interviewTimeMM=$n("#"+formId+" input[name=interviewTimeMM]").val(),interviewRemarks=encodeURIComponent($n("#"+formId+" input[name=remarks]").val()),interviewDuration=$n("#"+formId+" select[name=duration]").val();""==VENUE?(error=!0,$n("#where"+applicationId).html("Enter Venue details.")):$n("#where"+applicationId).html(""),askVendorToSchedule||(""==interviewDate||""==interviewTimeHH||""==interviewTimeMM?(error=!0,$n("#when"+applicationId).html("Enter Interview Date and Time details.")):isNaN(interviewTimeHH)||interviewTimeHH<1||interviewTimeHH>12?(error=!0,$n("#when"+applicationId).html("Enter valid Interview  Time(Hours).")):isNaN(interviewTimeMM)||interviewTimeMM<0||interviewTimeMM>59||interviewTimeMM.length<2?(error=!0,$n("#when"+applicationId).html("Enter valid Interview  Time(Mins).")):$n("#when"+applicationId).html("")),$n("#inp_intrvwEmail"+applicationId).length>0&&""!=selectedEmailList&&(selectedEmailList&&JSON.parse(selectedEmailList).length>5?(error=!0,$n("#interviewEmail"+applicationId).html("Enter at max 5 Email Ids")):$n("#interviewEmail"+applicationId).html("")),isEnterprise&&selectedEmailList&&JSON.parse(selectedEmailList).length>50&&(error=!0),str+="STAGE="+STAGE+"&TYPE="+TYPE+"&VENUE="+VENUE+"&interviewDate="+interviewDate+"&interviewTimeAmPm="+interviewTimeAmPm+"&interviewTimeHH="+interviewTimeHH+"&interviewTimeMM="+interviewTimeMM+"&remarks="+interviewRemarks+"&duration="+interviewDuration+"&intervwEmailListObj="+intervwEmailListObj+"&emailSelected="+selectedEmailList}else{var regex=/^[+]?([0-9]+(?:[\.][0-9]*)?|\.[0-9]+)$/,DATE=$n("#"+formId+" input[name=DATE]").val(),DESIG=encodeURIComponent($n("#"+formId+" input[name=DESIG]").val()),SALARY=encodeURIComponent($n("#"+formId+" input[name=SALARY]").val()),OFFERED_DATE=encodeURIComponent($n("#"+formId+" input[name=OFFERED_DATE]").val());if(0!=$n("#"+formId+" input[name=BILLAMT]").length){var BILLING=encodeURIComponent($n("#"+formId+" input[name=BILLAMT]").val());""===BILLING||"N.A"==BILLING||regex.test(BILLING)?$n("#billingAmount"+applicationId).html(""):(error=!0,$n("#billingAmount"+applicationId).html("Enter Correct Billing."));var DUEDATE=encodeURIComponent($n("#"+formId+" input[name=DUEDATE]").val());str+="&BILLAMT="+BILLING+"&DUEDATE="+DUEDATE}if(0!==$n("#"+formId+" input[name=PAYMENT_VALUE]").length){var PAYMENT_STATUS=$n("#payment_status").childrens(":selected").val(),PAYMENT_VALUE=encodeURIComponent($n("#"+formId+" input[name=PAYMENT_VALUE]").val());""==PAYMENT_VALUE?(error=!0,$n("#payment_val_"+applicationId).html("Please Enter Payment Value.")):regex.test(PAYMENT_VALUE)?$n("#payment_val_"+applicationId).html(""):(error=!0,$n("#payment_val_"+applicationId).html("Enter Correct Payment.")),str+="&PAYMENT_VALUE="+PAYMENT_VALUE+"&STATUS_PAYMENT="+PAYMENT_STATUS}""==DATE?(error=!0,$n("#joiningdate"+applicationId).html("Enter Joining Date .")):$n("#joiningdate"+applicationId).html(""),""==DESIG?(error=!0,$n("#designation"+applicationId).html("Enter Designation details.")):$n("#designation"+applicationId).html(""),""==SALARY?(error=!0,$n("#salary"+applicationId).html("Enter Salary details.")):$n("#salary"+applicationId).html(""),""==OFFERED_DATE?(error=!0,$n("#offereddate"+applicationId).html("Enter Offered Date")):$n("#offereddate"+applicationId).html(""),str+="&DATE="+DATE+"&DESIG="+DESIG+"&SALARY="+SALARY+"&OFFERED_DATE="+OFFERED_DATE}var statusId=$n("#"+formId+" input[name=statusId]").val(),subStatusId=$n("#"+formId+" input[name=subStatusId]").val(),applicationId=$n("#"+formId+" input[name=applicationId]").val(),token=$n("#"+formId+" input[name=token]").val();if(str+="&statusId="+statusId+"&subStatusId="+subStatusId+"&applicationId="+applicationId+"&askVendorToSchedule="+askVendorToSchedule+"&vendorName="+vendorName,!error){if(showLoader("_bodyContent",!1),askVendorToSchedule){var newStr=removeParamsForVendor(str);newStr+="&duration="+$n("#"+formId+" select[name=vendorDuration]").val()+"&instructions="+encodeURIComponent($n("#"+formId+" input[name=instructions]").val())+"&askVendorToSchedule="+askVendorToSchedule,str=newStr}str+="&token="+token,$n(this).ajaxReq({type:"POST",async:"true",datatype:"text",data:str,url:url,success:function(resp){hideLoader();var responseJSON;eval("responseJSON="+resp),$n("#statusChangeMessageDiv").html(responseJSON.body),$n("#statusChangeMessageDiv").show();var targetDiv="statusDataCaptureDiv_"+applicationId,statusDiv="#statusChangeMenu_"+applicationId;$n(statusDiv).html(responseJSON.statusDetails),responseJSON.error||$n("#"+targetDiv).html($n("#statusChangeMessageDiv").childrens("#statusDataMsgDisplayDiv").html()),$n("#bulkStatusMsgBox").hide(),""!=responseJSON.starRating&&(targetDiv="replaceStarRating"+applicationId,$n("#"+targetDiv).html(responseJSON.starRating),parseScript(targetDiv),new navmenu({sel:"#menuStarRating"+applicationId,dropClass:".subNavMenu",arrowclass:".dropArrow",tipclass:".topArowIc"}))},error:function(){hideLoader()}})}}function generateDueDate(){if("_excel"==$n("#isType").val())var a=$n("#showDate").val();else var a=$n('input[name="DATE"]').val();var b=$n("#dueDateCalc").val();if(null!=b){var c=(new Date(a),new Date(a));c.setDate(c.getDate()+ +b);var d=c.getDate(),e=c.getMonth()+1,f=c.getFullYear();if(!isNaN(d)){var g=f+"/"+e+"/"+d;"_excel"==$n("#isType").val()?$n("#showDueDate").val(g):$n('input[name="DUEDATE"]').val(g)}}}function generateBillingAmount(a){var b=$n(a).val(),c=$n(a).parent().parent().parent().parent(),d=c.childrens("#billingPerc").val();if(!isNaN(b)){var e=b*d/100;"_excel"==$n("#isType").val()?c.childrens("#billAmt").val(e):c.childrens('input[name="BILLAMT"]').val(e)}}function validateKeyUpValues(a){a.value=a.value.replace(/[^a-zA-Z 0-9\n\r.]+/g,"")}function validateNumericKeyUpValues(a){a.value=a.value.replace(/[^0-9]/,"")}function getStatusChangeForm(o){var applicationId=$n(o.objId+"_application").val(),profileId=$("#"+applicationId).find('[name="profileIds[]"]').val(),recount=$n(o.objId+"_recount").val(),rejected=0;o.rejected&&(rejected=1);var calid="calenCont"+applicationId;$n("#"+calid).currObj()&&$n("#"+calid).remove();var targetDiv="statusDataCaptureDiv_"+applicationId;elem=$n("#"+targetDiv).html(),$n("#"+targetDiv).html("");var authToken=null;authToken=document.getElementById("tupleAuthToken_"+profileId)?$n("#tupleAuthToken_"+profileId).val():window.pageToken||"";var path=statusChangeUrl+"?statusId="+o.activeKey+"&applicationId="+applicationId+"&isRejected="+rejected+"&token="+authToken;showLoader("_bodyContent",!1),loadWithParams(path,function(p){var respJSON=JSON.parse(p.responseText);if(respJSON.advInterviewScheduling)window.scheduleInterview({statusId:o.activeKey,applicationId:applicationId,mode:"ADD"}),hideLoader();else{var responseJSON,showSkypeTooltip;showSkypeTooltip=JSON.parse(p.responseText).showToolTip,showSkypeTooltip&&setTimeout(function(){$(".skypeTool").show()},1e3),eval("responseJSON="+p.responseText),responseJSON.dataRequired&&"1"==responseJSON.dataRequired?($n("#statusChangeMessageDiv").html(""),$n("#statusChangeMessageDiv").hide()):targetDiv="statusChangeMessageDiv";var str="#statusChangeMenu_"+applicationId;if(0==$n(str).childrens().length){$n(str).html(responseJSON.statusDetails);var str2=str;str2=new navmenu({sel:str,dropClass:".subNavMenu",arrowclass:".dropArrow",tipclass:".topArowIc"})}else $n(str).html(responseJSON.statusDetails);o.rejected&&
//interview is status change object name
window.interview.selectedValue(responseJSON.statusChangeId),$n("#"+targetDiv).html(responseJSON.body),$n("#"+targetDiv).show(),(responseJSON.dataRequired||"1"==responseJSON.dataRequired)&&parseScript(targetDiv);var reqData={applicationStatusData:[{applicationId:applicationId,statusId:o.activeKey.split("_")[0]||"",subStatusId:o.activeKey.split("_")[1]||""}],projectId:projectId_gl};$("#test_"+applicationId).length&&($("#test_"+applicationId)[0].outerHTML=""),getTestTupleForCandidate(reqData),hideLoader(),1==recount&&$n("#facetDisplayDiv").currObj()&&expandFacet("facetForm","CURR_SUB_STATUS","facetItemsListingDiv_CURR_SUB_STATUS"),""!=responseJSON.starRating&&(targetDiv="replaceStarRating"+applicationId,$n("#"+targetDiv).html(responseJSON.starRating),parseScript(targetDiv),new navmenu({sel:"#menuStarRating"+applicationId,dropClass:".subNavMenu",arrowclass:".dropArrow",tipclass:".topArowIc"}))}},"POST",{})}
//function hideStausChangeForm(element, applicationId, previousStatus) {
//    if (element == 'new') {
//               var targetDiv = "statusDataCaptureDiv_" + applicationId;
//        $n("#" + targetDiv).hide();
//        window["interview" + applicationId].selectedValue(previousStatus);
//    } else {
//        $n("#statusDataMsgDisplayDiv").show();
//        $n('#statusDataFormDisplayDiv').hide();
//    }
//
//}
function hideStatusChangeMsg(){$n("#statusDataMsgDisplayDiv").hide()}function hideStatusChangeSuccessMsg(){$n("#statusChangeMessageDiv").hide()}function hideStausChangeForm(a,b,c){var d="calenCont"+b;$n("#"+d).currObj()&&$n("#"+d).remove();var e="statusDataCaptureDiv_"+b;"new"==a?($n("#"+e).html(elem),window.interview.selectedValue(c)):(
//$n("#"+targetDiv).show();
// $n('#statusDataCaptureDiv_'+applicationId).hide();
$n("#"+e).html(elem),$n("#statusDataMsgDisplayDiv").show())}function editApplicationStatus(a,b,c,d){elem=$n("#"+c).html(),a+="?applicationId="+b;var e=$("#"+b+' input[id^="tupleAuthToken_"]').val();e=e||"",a+="&token="+e,showLoader("_bodyContent",!1),loadWithParams(a,function(a){$n("#"+c).show(),a.responseText.indexOf("advInterviewScheduling")>-1?window.scheduleInterview({statusId:d,applicationId:b,mode:"EDIT"}):($n("#"+c).html(a.responseText),parseScript(c),$n("#statusDataMsgDisplayDiv").hide()),hideLoader()},"POST",{})}function initKeywords(){keywordSuggObj=new suggester({id:["#keyword"],//pass one or more id's
objNew:" keywordSuggObj",//pass object name
countSugg:"20",//pass how many values display at the time of suggestion display
//arry: {"s1": 'Name1', "s2": 'Name2', "s3": 'Name3', "s4": 'Name4', "s5": 'Name5', "s6": 'Name6', "s7": 'Name7', "s8": 'Name8', "s9": 'Name9', "s10": 'Name10', "s11": 'Name11', "s12": 'Name12'}, //pass json array if you have;
url:suggestorURL,domain:!1,//pass true in case of email suggestor
client:"",//pass "server" if you want to load the values on request
startVal:1,//after how many charactor you wants to show the suggstor
app_id:2,// requirement from the php developer side;
suggestorName:"KEYWORD",//type of the suggestor, its a "keyword" suggestor or designation suggestor or any other.
tag:!0,suggheading:"Choose from this list:"})}function validateInterviewStageDetails(){if($n("#sal").length>0){var a=!1;return DATE=$n("#showDate").val(),DESIG=encodeURIComponent($n("#desig").val()),SALARY=encodeURIComponent($n("#sal").val()),""==DATE?($n("#joiningdate").html("Enter Joining Date ."),a=!0):$n("#joiningdate").html(""),""==DESIG?(a=!0,$n("#designation").html("Enter Designation details."),a=!0):$n("#designation").html(""),""==SALARY?(a=!0,$n("#salary").html("Enter Salary details.")):$n("#salary").html(""),!a}var b=encodeURIComponent($n("#venue").val()),c=$n("#showDate").val(),d=($n("#interviewTimeAmPm").val(),$n("#interviewTimeHH").val()),e=$n("#interviewTimeMM").val(),a=!1;return""==b?(a=!0,$n("#where").html("Enter Venue details.")):$n("#where").html(""),""==c||""==d||""==e?(a=!0,$n("#when").html("Enter Interview Date and Time details.")):isNaN(d)||d<1||d>12?(a=!0,$n("#when").html("Enter valid Interview  Time(Hours).")):isNaN(e)||e<0||e>59?(a=!0,$n("#when").html("Enter valid Interview  Time(Mins).")):$n("#when").html(""),!a}function validateEmail(a){var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(String(a).toLowerCase())}function attachEventForTagEmail(a){$n("#"+a+" input").addEvent("keyup",function(b){if(13==b.keyCode||188==b.keyCode)if(""!=$n(this).val().trim()&&","!=$n(this).val().trim()){if(validateEmail($n(this).val())&&"noData"==$n("#ul_"+a).childrens().attr("class")){tgCount++;var c=a+"_new"+tgCount;if(188==b.keyCode)var d=$n(this).val(),e=d.split(","),f=e[0];else var f=$n(this).val();intervwEmailList["new"+tgCount]=f,
//$n('#newContactObj').val(JSON.stringify(newContacts));
$n(this).val(""),intervwEmailDD.CreateTags(f,c,a,!1,!1),addCloseEventEmail(c,tgCount,a),$n("#dp_"+a).length>0&&($n("#dp_"+a).currObj().style.display="none"),$n("#inp_"+a).length>0&&intervwEmailDD.focusEv.call($n("#inp_"+a).currObj(),b)}}else $n(this).val("")})}function addCloseEventEmail(a,b,c){$n("#tg_"+a).childrens(".dCross").addEvent("click",function(){$n(this).parent().remove();var a=JSON.parse($n("#hid_"+c).val()),d=a.indexOf("new"+b);a.splice(d,1),0==a.length?$n("#hid_"+c).val(""):$n("#hid_"+c).val(JSON.stringify(a))})}function checkSelectedItemList(a,b){var c=$("#"+a+" .dCross").length;"undefined"!=typeof b&&b&&(c<=0?$("#"+a).append('<div id="interviewerEmailListError" class="mt5" style="color:#c09853">No interviewers selected for this candidate</div>'):c>50?$("#interviewerEmailListError").length<=0&&($("#"+a).append('<div id="interviewerEmailListError" class="mt5" style="color:#c09853">Maximum 50 interviewers can be selected</div>'),$("#"+a).find("input").attr("disabled","disabled"),$("#"+a).find("#dp_"+a).css("display","none")):($("#interviewerEmailListError").length>0&&$("#interviewerEmailListError").remove(),$("#"+a).find("input").removeAttr("disabled")))}function generateIntrvwEmailDD(a,b,c,d){d=!!d&&d,checkSelectedItemList(c,d),
//    if(typeof applicationId== 'undefined'){
//        applicationId="";
//    }
DDObj={id:{},maxHeight:140,checkBox:!0,
//tagInSepContainer:"intervwTagDivCont",
placeholder:"Select or Enter Email",onClickReq:function(a,b){checkSelectedItemList(c,d),$("#"+c+" .tagit").length==Object.keys(a.id[c][0]).length?$("#"+c+" .optgroup").find("a").addClass("chkd"):$("#"+c+" .optgroup").find("a").removeClass("chkd")},allChk:!(d&&Object.keys(a).length>50)},DDObj.id[c]=[a,b],d?(intervwEmailDD=new customDD(DDObj),Object.keys(a).length?Object.keys(a).length==Object.keys(b).length&&$("#"+c+" .optgroup").find("a").addClass("chkd"):$("#"+c).find("input").attr("disabled","disabled")):(intervwEmailDD=new DD(DDObj),attachEventForTagEmail(c))}function showCandidateStatusModal(){$("#statusChngDialog_Wrapper").removeClass("scdw_dspN"),$($("body")[0]).addClass("oh"),$("#statusChngDialog_Wrapper textarea").val(""),"CANCEL"===candidateStatusValue?($(".scdw_headerTitle").text("Are you sure you want to cancel this interview?"),$(".scdw_primaryBtn").text("Cancel Interview"),$(".scdw_helpingContent").text("Candidate and interviewers will be notified by email that the interview is cancelled.")):($(".scdw_headerTitle").text("Are you sure you want to withhold this interview?"),$(".scdw_primaryBtn").text("Withhold Interview"),$(".scdw_helpingContent").text("Candidate and interviewers will be notified by email that the interview is withhold."))}function hideSCDWLayer(a){$($("body")[0]).removeClass("oh"),$("#statusChngDialog_Wrapper").addClass("scdw_dspN"),$("#statusChngDialog_Wrapper textarea").val(""),$("#interviewerCancelMsg").addClass("scdw_dspN"),a&&$("#interviewStageChange_"+candidateSelectedApplicationIdForCancel).val(previousInterviewStageChangeVal)}function showInterviewerMsgBox(){$("#interviewerCancelMsg").removeClass("scdw_dspN")}function submitCandInterviewerMsg(){var a=$("#candidateCancelMsg").val().trim(),b=$("#interviewerCancelMsg").val().trim(),c={candidateMsg:a,interviewerMsg:b},d=window.location.origin+"/interview-schedule/interviewInvite/"+candidateSelectedApplicationIdForCancel+"/stage/"+candidateStatusValue;$.ajax({url:d,type:"POST",data:JSON.stringify(c),headers:{Accept:"application/json","content-type":"application/json"},success:function(a){"function"==typeof window.showListingSuccess&&window.showListingSuccess(a.successBody),hideSCDWLayer()},error:function(a){}})}function getInterviewStageChnageHandler(a){$("#interviewStageChange_"+a).blur();// Required to revert its value in case of cancel
var b=$("#interviewStageChange_"+a).val();if(candidateStatusValue=b,candidateSelectedApplicationIdForCancel=a,"CANCEL"===b)showCandidateStatusModal();else{var c=window.location.origin+"/interview-schedule/interviewInvite/"+a+"/stage/"+b;$.ajax({url:c,type:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",appId:124,systemId:222},success:function(a){"function"==typeof window.showListingSuccess&&a&&window.showListingSuccess(a.successBody)},error:function(a){$n("#errorCheckBoxMsg").html("Some error occured. Please try after some time."),$("#ErrorMessageDiv").removeClass("dspN")}})}}$n("input").addEvent("input",function(){}),tgCount=0,function(){
//function to handle submit click of lightbox
function a(a){
// event.preventDefault();
var d=$n.trim($n("#feedbackComment").val()),e=$n("#starError");void 0==starRate.ratingValue||starRate.ratingValue<1?e.show():(e.hide(),d=d?d:"<No Feedback Provided>",window.showStatus&&(c="Approve"==$n(a.target).html()?"2":"1"),$n(this).ajaxReq({type:"get",async:"true",data:"applicationId="+b+"&stars="+starRate.ratingValue+"&comments="+d+"&statusState="+c,url:addFeedbackUrl,success:function(a){a=JSON.parse(a),""!=a.errorMessage&&($n("#cancelFeedBack").click(),a.reload&&window.location.reload())}}))}var b,c;
// function for feedback lighbox
window.openFeedBackLb=function(d){$n(".sRateLB").html(""),$n("#starError").hide(),$n("#feedbackComment").val(""),lightBox({contId:"hiringManagerFeedbackLtBox",close:"cancelFeedBack",contWidth:543,ecp:!0,fixedLayer:!1,returnFocus:!1,fLink:"flink1",reset:!0}),window.showStatus?($n("#submitBtnBox").hide(),$n("#approveRejectBtnBox").show()):(c="Approve"==$n(d).val()?"2":"1","2"==c?$n("#hiringManagerFeedbackLtBox").childrens(".lb_head").html("Approve "+$n(d).attr("data-name")):$n("#hiringManagerFeedbackLtBox").childrens(".lb_head").html("Reject "+$n(d).attr("data-name"))),b=$n(d).attr("data-appId"),
// var stars = $n(_this).attr('data-stars');
$n(".sRateLB").attr("id","starRatingLb-"+b),
// console.log(appId);
// setting star rating init process
starRate.init({containerId:["starRatingLb-"+b],inactiveClass:"inactive",activeClass:"active",activeHoverClass:"activeHover",selectedClass:"selected",uncheckable:!1,starCount:5,onSelect:function(){}}),starRate.ratingValue=0,$n(".feedbackSubmitBtn").removeEvent("click",a),$n(".feedbackSubmitBtn").addEvent("click",a),$n(".sRate ul li").addClass("mr5 ml5"),$n(".sRate ul").childrens().removeClass("ml5")},$n(document).ready(function(){window.showStatus&&$n("#feedbackApproveBtn").click()})}(),
// status change for advance interivew schedule
$n(document).ready(function(){$("body").append('<div id="statusChngDialog_Wrapper" class="scdw_dspN"> <div class="scdw_formWrapper"> <div class="scdw_header"> <span class="scdw_headerTitle">Are you sure you want to cancel this interview?</span> <a id="scdw_formClose" onclick="hideSCDWLayer()" class="scdw_formClose">âœ•</a> </div> <form id="scdw_form" name="scdw_form"> <div class="scdw_formContentWrapper"> <p class="scdw_helpingContent"> Candidate and interviewers will be notified by email that the interview is cancelled. </p> <h2 class="scdw_boldHeading">Message to candidate</h2> <textarea class="scdw_interviewCancelMsg" placeholder="Enter reason for cancellation here." id="candidateCancelMsg" name="interviewCancelMsg" spellcheck="false"> </textarea> <a onclick="showInterviewerMsgBox()" class="scdw_addInterviewerCancelMsgLink"> Add message for interviewers </a> <textarea class="scdw_interviewCancelMsg scdw_dspN" placeholder="Enter reason for cancellation for interviewer." id="interviewerCancelMsg" name="interviewerCancelMsg" spellcheck="false"> </textarea> </div> <div class="scdw_modalFooter"> <a onclick="submitCandInterviewerMsg();" href="javascript:void(0)" class="scdw_primaryBtn"> Cancel </a> <a onclick="hideSCDWLayer(true);" href="javascript:void(0)" class="scdw_linkBtn"> Cancel </a> </div> </form> </div> </div>'),$("select.interviewStageChange").on("focus",function(){previousInterviewStageChangeVal=this.value})});