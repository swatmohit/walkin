/*Version dd_v7.6.0*/
var customDD=function(a,b,c,d){function e(){return arguments.length?function(arguments){}:function(){}}function f(a){// to append data dynamically at run time in Dropdown		
function b(a){return function(){var b=$(this).attr("id"),c=a[b],d=c.id;if(d)for(var e in d){d[e];
//X.inpHid.attr('value','');
m.chkBox?m.removeAllTags():(m.inpElm.val(""),m.inpHid.data("optGroupKey","")),m.Allflg="",m.hideDD(),m.dependent?m.onClickLi(m.obj,""):""}c.clrCalbackfun&&m.onClearTag[b](m.obj,0,$(this))}}for(var c=0;c<m.idLen;c++){var d,e=m.idKey[c];if(m.clearAllInside){var f="Clear All";for(var j in m.clearAllInside)f=m.clearAllInside[j];d=$("<div>").addClass("DDclearAll").attr({id:"clrAll_"+e}).html(f)}var k=$("#"+e).find(".srchTxt");if(!m.dpLyr||!m.dpLyr.length){// to prevent create multiple drop loyer if same call initialize.
var l=k.attr("name");k.data({name:l});// to reset in destroy function
var n;$("#"+e).find(".arw").addClass("DDarwDwn");m.chkBox?n=$("#"+e+" .DDsearch li"):(n=$("#"+e).find(".DDsearch"),$("#"+e).addClass("singleSelect")),k.data("id","inp_"+e).attr({name:"",autocomplete:"off"}),m.placeholder&&k.data({placeholder:k.attr("placeholder")}),m.outerCont.find(".frst").css({"float":"none"}),$("#hid_"+e).length||(// create hidden input field if it's not aleredy there
m.inpHid=$("<input>").attr({type:"hidden",id:"hid_"+e,name:l}),n.append(m.inpHid));var o=$("<div>"),p=$("<div>"),q=$("<ul>"),r=$("#"+e),s=m.chkBox?"ChkboxEnb":"";m.dpLyr=o,// store reference of dropLayer container
p.addClass("nScroll").attr("id","ul_"+e),o.addClass("drop").attr("id","dp_"+e),q.addClass(s),p.append(q),d?o.append(d):"",o.append(p),r.append(o),
//ddCont.append(ifr[0]);
$("#"+e).on("click",".DDinputWrap, .DDsearch, .arw",function(a){a.stopPropagation(),k[0].focus()}).on("mouseenter",function(){m.layerOpenStatus=m.srchBx!==!1}).on("mouseleave",function(){m.layerOpenStatus=!1})}
//Add events in dropDown
k.on("focus",h).on("keydown",function(a){i(a,$(this))}).on("keyup",m.Fn.keyUpEv).on("blur",g),m.layerOpenStatus=m.srchBx!==!1}if(// for loop end
m.fillData(),m.clrId)// clear all tags and data on html tag fire event			
for(var j in m.clrId)$("#"+j).on("click",b(m.clrId))}function g(b){var c=m.id;if(!m.TagSpCnt&&m.chkBox?$("#"+c+" .tagit:last").removeClass("TagSelected"):"",!m.chkBox){var d=m.inpHid,e=m.inpElm,f=d.attr("opt"),g=f?m.uEscp(f):"",h=d.attr("value"),i=a.id[c][0],j=g?i[g][h]:i?i[h]:"";e.val()?j&&e.val(j).css({color:"#444"}):(d.val(""),m.onDeselect&&m.onDeselect(),m.placeholder&&!$.support.placeholder&&e.val(e.data("placeholder")).css({color:"#a9a9a9"}))}m.layerOpenStatus||m.hideDD()}function h(a){//It fires when focus comes in dropdown text box
// if(DD.lastRef['lastOpen'] && DD.lastRef['lastOpen'] != X.id){
//       	X.hideDD(DD.lastRef['lastOpen']);
//       }
// DD.lastRef['lastOpen'] = X.id;
m.layerOpenStatus=m.srchBx!==!1,m.inpt=$(this);var b=$(this).data("id");b.split("_")[1];if(
//	dropLayer = $('#dp_'+iD);
//X.dpLyr = $('#dp_'+iD);
m.DDSearch=$(this).parent(".DDSearch"),j(),$("#"+b).css({color:"#444"}),!m.chkBox&&m.placeholder&&!$.support.placeholder){/*  // $(this).val('');
	        }else{*/
//if(X.placeholder && !$.support.placeholder){
var c=$("#"+b);$("#"+b).val()===c.data("placeholder")&&$("#"+b).val("")}}function i(a,b){var c,//td = 'inp_'+X.id,
d=m.id,e=a.keyCode||a.which,f=$("#"+d).width()-15,g=b.val().replace(/\b/g,""),h=m.dpLyr.css("display");if(13!=e&&38!=e||//for multiple select
a.preventDefault(),13!=e||"none"!=h||m.chkBox||// for single select    	        	
$("#dFrom")[0].submit(),9==e||27==e?m.hideDD():"",// check why it is not work no keyUp                                
(e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57)&&!m.TagSpCnt&&m.chkBox&&m.tags!==!1&&(c=k(f),m.inpElm.css({width:c+"px"})),!g&&m.chkBox){//must be put code at keyDown event          
var i=$("#"+d+" .tagit:last"),l=i.data("id");m.TagCnt>0&&8==a.keyCode&&!m.TagSpCnt&&l&&l.length>0?m.Tagfocus?(m.removeTag(l,i.children(".tagTxt").html(),!0),m.Tagfocus=0):($("#"+d+" .DDsearch").find('[data-id="'+l+'"]').addClass("TagSelected"),m.Tagfocus=1):l&&($("#"+d+" .DDsearch").find('[data-id="'+l+'"]').removeClass("TagSelected"),m.Tagfocus=0)}
//var ulCont_hghtCont = $('#dp_'+id);
var n=$("#ul_"+d),o=n.find("ul"),p=o.find("li:first-child");if(m.curActElm.length||(m.curActElm=p),40==e)// down arrow key
if("none"==h)m.hideDD(),j();else{var q,r=m.curActElm.next();r.length&&!r.hasClass("noData")&&(q=r.hasClass("optgroup")?r.next():r,m.curActElm.removeClass("active"),q.addClass("active"),m.curActElm=q,ieObj.scrollHandler(m.dpLyr,o.parent(),p,m.curActElm))}else if(38==e){// up arrow key
var s,t=m.curActElm.prev();t.length&&(s=t.hasClass("optgroup")?t.prev():t,s.length&&(m.curActElm.removeClass("active"),s.addClass("active"),m.curActElm=s,ieObj.scrollHandler(m.dpLyr,o.parent(),p,m.curActElm)))}}function j(){// show dropdown 
var a=m.id;$("#"+a).find(".DDwrap").addClass("brBotN"),$("#"+a+" .drop").show(),$("#ul_"+a)[0].scrollTop=0;var b=$("#"+a).outerWidth()-2+"px";m.dpLyr.css({width:b}),m.max_height(),m.chkBox||m.firstHighlight()}function k(a){// increase texbox width while entering the character accordingly
// increase texbox width while entering the character accordingly
return a>p?p+=5:void(p+=1)}function l(a,b){//Decrease texbox width while removing or deleting the charecter
if(""!==m.inpElm.val()&&p>o){if(b>p)return p-=5;p-=1}}var m=this,n=0,o=30,p=30;m.obj=a,m.prefillData=a.prefillData,m.parentRefData={},m.liCntrFx=[],m.preventClickFor=a.preventClickFor||[],m.onDeselect=a.onDeselect,m.liCntr=[],m.isReset=!0,// to enable/disabled reset for replace or add data
m.placeholder=a.placeholder||!0,m.sortPrefix=a.sortPrefix,m.idKey=[],m.hidValue=[],m.maxTagsCount=a.maxTagsCount||999,m.pKey=d,m.idLen=0,m.tagwithOptGroup=a.tagwithOptGroup||!1,m.srchBx=a.searchBox!==!1,m.sts=c,m.prevObj=b,m.clrId=a.clearTagId,m.depend=a.dependent,m.tagsSorting=a.tagsSorting!==!1,m.MrgPrfAryOrdr=a.appendTags||!1,m.Ary={},m.onClearTag=[];// call back function for click on clearTag/clearAllTsg
for(m.idKey[m.idKey.length]in a.id);// calculate the no of dropdown id's
m.idLen=m.idKey.length,// set no of id's in a single call
m.sugHgt=a.maxHeight||300,m.clearAllInside=a.clearAllInside||!1,m.parentChkBox=a.parentChkBox||!1,m.chkBox=a.checkBox||!1,m.allChk=a.allChk||!1,m.layerOpenStatus=!1,m.tags=a.tags!==!1||a.tags,m.TagSpCnt=a.tagInSepContainer||!1,m.id=m.idKey[0],m.preTxt=a.preText||"You have selected",m.Allflg="",m.postTxt=a.postText||"item(s)",m.curActElm="",m.Tagfocus=0,m.onClickLi=a.onClickReq||e(),m.onTagClk=a.onTagClick||e(),//Call back function on tag click
m.onTagCrt=a.onTagCreate||e(),//call when tag create
m.outerCont=$("#"+m.id),m.inpElm=m.outerCont.find(".srchTxt"),m.TagCnt=0,m.tagTitle=a.tagTitle||!1,m.optgrpNameRef=[],m.optgrpObject={},/*Bind Click event on document on Click*/
customDD.lastRef.iseventBindOnDocument||($(document).on("click.dd",function(a){if(!$(a.target).parents(".ddwn").length){var b=$(".ddwn");b.find(".DDwrap").removeClass("brBotN"),b.find(".drop").hide()}}),customDD.lastRef.iseventBindOnDocument=!0),/*End of Bind Click event on document on Click*/
m.obj.resetPrefillValues?// to reset(empty checkBox Container) values to avoid prefill case... used in SM
m.ChkBoxContr={}:m.ChkBoxContr?"":m.ChkBoxContr={},m.pKey?(m.chkBox||(customDD.Ary[m.id]={}),customDD.Ary[m.id]?"":customDD.Ary[m.id]={},customDD.Ary[m.id][m.pKey]=a.id[m.id][0],m.Ary=customDD.Ary[m.id]):(m.Ary={},m.Ary.A=a.id[m.id][0]);for(var q in a.clearTagId)for(var r in a.clearTagId[q])m.onClearTag[q]=a.clearTagId[q][r];m.Fn={preserveEventafterClone:function(b,c){var d,e=m.id;d=m.TagSpCnt?$("#"+m.TagSpCnt).find('[data-id="'+b+'"]'):$("#"+e+" .DDsearch").find('[data-id="'+b+'"]'),d.on("click",".dCross",function(d){//remove tags by click on tag cross button	
d.stopPropagation(),m.removeTag(b,$(this).find(".tagTxt").text(),c),m.max_height(),c?m.onTagClk(a,m.TagCnt):"",m.setInputText(),// for decrement count value when user click on tag cross sign
"block"==m.dpLyr.css("display")?$("#"+e).find(".srchTxt")[0].focus():""})},keyUpEv:function(a){//must be put code at key_up event 			
var b=$(this).data("id"),c=$("#"+b).width()-15,d=(b.split("_")[1],a.keyCode||a.which),e=$(this).val().replace(/\b/g,"");if(13==d&&m.curActElm&&m.curActElm.length&&!m.curActElm.hasClass("noData")&&m.curActElm.hasClass("active")){var f=m.curActElm.children("a");if(m.chkBox){var g=f.data("id")+"_"+m.Escp(m.curActElm.attr("bindto"));f.hasClass("chkd")?m.removeTag("tg_"+g,f.html(),!0):m.CreateTags(f,g,"",m.tags)}else m.SingleSelection(f.html(),f.data("id").split("_")),m.hideDD()}8==d&&m.chkBox&&!m.TagSpCnt&&m.tags!==!1&&(e?wth=l(b,c)+"px":""!=m.inpHid.val()?wth="30px":wth="",m.inpElm.css({width:wth})),9!=d&&13!=d&&18!=d&&32!=d&&37!=d&&38!=d&&39!=d&&40!=d&&(m.Fn.initSearch(e,b,d),"none"==m.dpLyr.css("display")&&m.dpLyr.show())},initSearch:function(b,c,d){var e="";n=0,c=c.split("_")[1];var f=m.Ary;if(b){b=b.replace(/&amp;/gi,"&").replace(/[\s]+/g," ").replace(/^\s/,"");for(var g in f)for(var h in f[g])if("object"==typeof f[g][h]){// for optgroup case			
var i,j="";i=f[g][h];for(var k in i)j+=m.searchData(i[k],b,c,c+"_"+k+"_"+m.eUnderScore(h),m.Escp(g));j&&(e+='<li class="optgroup">'+m.eUnderScore(h)+"</li>"+j,n++)}else// for single case
$("#"+c+" .cross").show(),e+=m.searchData(f[g][h],b,c,c+"_"+m.eUnderScore(h),m.Escp(g)),n++}else $("#"+c+" .cross").hide(),e=m.appendData(m.Ary,"","",d)[0],n=m.liCntrFx;if(!e){var l=a.noDataTxt?a.noDataTxt:"No data found in search";e='<li class="noData">'+l+"</li>",n++}
//$('#dp_'+id+' ul').html(html);
m.dpLyr.find("ul").html(e),m.liCntr=n,m.max_height(),m.firstHighlight()}},m.fillDatainDropdwonLayer=function(a,b,c,d,e){m.inpElm;m.chkBox&&m.inpHid.attr({value:""}),m.srchBx===!1?($("#"+a).find(".DDwrap").hide(),$("#"+a).find(".drop").css({position:"static"})):$("#"+a+" div.drop").css({borderTop:0}),$("#ul_"+a+" ul").html(b),b="",m.srchBx===!1?j():"",m.chkForParent(m.optgrpObject,m.DATA)},m.liMousehover=function(){m.id;m.dpLyr.on("mouseover","li.pickVal",function(){m.curActElm.length?"":m.firstHighlight(),m.curActElm.removeClass("active"),$(this).addClass("active"),m.curActElm=$(this)}).on("mouseout","a",function(){$(this).removeClass("active")})},m.max_height=function(){for(// set max heigh of dropdown according to the user specified if user not specified the set default maximum height						
var a=m.id,b=$("#ul_"+a),c=0,d=$("#ul_"+a).find(" ul li:first");d.length&&m.sugHgt>=c;)c+=d.outerHeight(),d=d.next();m.sugHgt<c?b.css({height:m.sugHgt+"px"}):b.css({height:c+"px",width:"100%"}),b.length&&b[0].csb&&b[0].csb.reset()},m.PickValuesFromDD=function(){// On selection it select the data from the dropdown and throw to specific(on the basic of ID) text field or or any HTML tag eg. Div, span, textarea 			
var b;m.id;m.dpLyr.on("click",".pickVal a",function(c){if(m.chkBox){var e=0,f=$(this),g=f.data("id");if($(this).hasClass("chkd")&&(e=1),b=f.html(),g.split("_")[1]==m.eUnderScore(m.otherLabId))1==e?m.onClickLi(a,m.otherLabId,"unChecked"):m.onClickLi(a,m.otherLabId,"checked"),m.hideDD();else{if(1==e){var h=g;$(this).parent().attr("bindto")&&(h=g+"_"+m.Escp($(this).parent().attr("bindto"))),m.removeTag("tg_"+h,b,!0)}else{var i=$(this).parent().attr("bindto");i?g=g+"_"+m.Escp(i):"",m.CreateTags(f,g,"",m.tags)}if(m.srchBx!==!1?setTimeout(function(){m.inpElm[0].focus()},100):"",m.parentChkBox){var j=$(this).data("id").split("_"),k=j[j.length-1],l=0;if(!m.parentRefData[k]){var n=$(this).parent().prevAll("li.optgroup:first"),o=n.nextUntil(".optgroup").toArray();m.parentRefData[k]=o}for(d in m.parentRefData[k])$(m.parentRefData[k][d]).find("a").hasClass("chkd")&&l++,l==m.parentRefData[k].length?
//($('li.optgroup').attr('data-id','opt_'+par).class('chkd');
$('li.optgroup[data-id="opt_'+k+'"]').find("a").addClass("chkd"):$('li.optgroup[data-id="opt_'+k+'"]').find("a").removeClass("chkd")}}}else m.SingleSelection($(this).html(),$(this).data("id").split("_"))})},m.SingleSelection=function(b,c){// when dropdown having a single select functionality	
var d=c[0],e=c[2]?c[2]:"";b=b.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&"),m.inpElm?m.inpElm.val(b):"",$("#"+d+" .cross").show(),m.inpHid.attr({value:m.dUnderScore(m.uEscp(c[1])).replace(m.sortPrefix,"")}).data("optGroupKey",e),m.layerOpenStatus?m.hideDD():"",m.onClickLi(a,m.dUnderScore(m.uEscp(c[1])))},m.CreateTags=function(b,c,d,e){//checked
var f=m.id,g=c.split("_")[1];if(e="-1"==$.inArray(g,m.preventClickFor)&&0!=e,m.hidValue.length<m.maxTagsCount){var h,i=m.uEscp(c).split("_"),j=c.split("_"),k=3==j.length?j[0]+"_"+j[1]:j[0]+"_"+j[1]+"_"+j[2];if("string"!=typeof b?(h=b.html(),b.addClass("chkd")):h=b,m.TagCnt++,m.placeholder&&m.TagCnt&&m.inpElm.attr("placeholder",""),e!==!1){h=h.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&"),m.tagwithOptGroup?h="<b>"+i[2].replace("xSlashX","/").replace(/SxP/gi," ")+"</b>("+h+")":"";var l,n=$("<li>").append('<span class="tagTxt">'+h+"</span>"),o="tg_"+c;m.tagTitle&&n.attr("title",h);var p=m.TagSpCnt;if(p||e===!1){var q=n.append($("<a>").addClass("dCross")).addClass("tagit").attr({"data-id":o}),r=$("#"+p)[0];if(m.MrgPrfAryOrdr){var s=r.children[d];s?s.parentNode.insertBefore(q[0],s):$("#"+p).append(q)}else e===!1?"":r.insertBefore(q[0],r.firstChild);m.inpElm.css({color:"#444"}),l=o+" a.dCross"}else m.MrgPrfAryOrdr?$("#"+f+" ul.DDsearch li:last").before(n.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":o})):$("#"+f+" ul.DDsearch").prepend(n.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":o})),m.inpElm.css({width:"30px"}),l=o+" span.dCross";m.Fn.preserveEventafterClone(o,!0)}$("#ul_"+m.id).find('[data-id="'+k+'"]').addClass("chkd"),m.setValueInHiddenField(i[1],h),m.ChkBoxContr[i[1]]=c,m.onClickLi(a,m.dUnderScore(m.uEscp(i[1])),"Checked",$('li[data-id="tg'+c+'"]'),m.TagCnt),m.setInputText()}else m.onTagCrt("Maximum Tags Created")},m.setValueInHiddenField=function(a,b,c){var d=m.id;if(a&&b){"all"==b.toLowerCase()&&(m.Allflg="all"),a=m.dUnderScore(m.uEscp(a)).replace(m.sortPrefix,"");var e=m.inpHid.val();e?(m.hidValue.push(a),m.inpHid.val($.stringify(m.hidValue))):(m.hidValue.push(a),m.inpHid.val($.stringify(m.hidValue)),$("#clrAll_"+d).show(),m.TagSpCnt?$("#"+m.TagSpCnt).show():$("#"+d).find("li.frst").css({"float":"left"})),m.onTagCrt()}else c!==!1&&(m.inpElm.val(""),m.inpHid.val(""))},f(),m.PickValuesFromDD(),// Event deligation: event bind for data seelction or tag creation
m.liMousehover(),// Event Deligation: listing highlight on mouseover
m.clickParent(),// In parentChk case:: parent click(check/uncheck all childrens)
m.clickMain()};customDD.prototype.prefillDataFormation=function(a){var b=this,c=(b.id,{});if(b.chkBox){if(a)for(var d in a)c[a[d]]="1"}else c=a;return c},customDD.prototype.removeAllTags=function(){//checked
var a=this,b=a.id;for(var c in a.ChkBoxContr){var d,e=a.ChkBoxContr[c],f=e.split("_");3==f.length?d=f[0]+"_"+f[1]:4==f.length&&(d=f[0]+"_"+f[1]+"_"+f[2]),$("#ul_"+b).find('[data-id="'+d+'"]').removeClass("chkd"),a.TagSpCnt?$("#"+a.TagSpCnt).find('[data-id="tg_'+e+'"]').remove():$("#"+b).find(".DDsearch").find('[data-id="tg_'+e+'"]').remove()}a.parentChkBox&&$("#ul_"+b).find('li a[data-id="'+b+'"]').removeClass("chkd"),a.allChk&&$("#ul_"+b).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),
//X.inpElm.val('');
a.resetInpWidth(b),a.ChkBoxContr={},a.inpHid.val(""),a.hidValue=[],// when click on clearon button then it should be removed
a.TagCnt=0,a.setPlaceHolderAttribute()},
// DD.prototype.destroyTags = function(){
// 	var id = X.id;
// 	for(var x in X.ChkBoxContr){
// 	}
// }
customDD.prototype.destroy=function(){var a=this,b=a.id;a.dpLyr.remove(),a.inpHid.remove(),$("#"+b).find(".DDsearch .tagit").remove(),a.inpElm.val("").attr({placeholder:a.inpElm.data("placeholder"),name:a.inpElm.data("name")}),a.inpElm.removeAttr("autocomplete style"),a.inpElm.off("focus keydown keyup blur")},customDD.prototype.removeTag=function(tagId,txt,bool,remId){//checked
var X=this,id=X.id,rep=tagId.replace("tg_",""),tgId=rep.split("_"),reqId=eval($("#hid_"+id).val()),tmp=4==tgId.length?tgId[0]+"_"+tgId[1]+"_"+tgId[2]:tgId[0]+"_"+tgId[1];// tgId.length=4 for optgroup case
if($.inArray(tgId[1],reqId)!=-1){if($("#ul_"+id).find('[data-id="'+X.Escp(tmp)+'"]').removeClass("chkd"),X.parentChkBox){var a=tmp.split("_");a=a[a.length-1];for(key in X.parentRefData[a])$(X.parentRefData[a][key]).find("a").hasClass("chkd")||($("#ul_"+id).find('li[data-id="opt_'+a+'"]').find("a").removeClass("chkd"),$("#ul_"+id).find('li[data-id="opt_all"]').find("a").removeClass("chkd"))}remId?$("#"+remId).remove():X.TagSpCnt?$("#"+X.TagSpCnt).find('[data-id="'+tagId+'"]').remove():$("#"+id).find(".DDsearch").find('[data-id="'+tagId+'"]').remove(),X.emptyHidField(rep.split("_")[1],id,txt),X.TagCnt--,X.TagCnt||
//X.inpElm.val('');
X.setPlaceHolderAttribute();for(var x in X.ChkBoxContr)X.ChkBoxContr[x]==rep&&delete X.ChkBoxContr[x];bool?X.onClickLi(X.obj,X.dUnderScore(X.uEscp(tgId[1])),"Unchecked","",X.TagCnt):"",X.setInputText()}},customDD.prototype.fillData=function(){for(var a=[],b=this,c=b.id,d=0;d<b.idLen;d++){var e=b.prefillData||b.obj.id[c][1],f=b.prefillDataFormation(e);a[c]=f;b.obj.dependTo?b.dpLyr&&b.dpLyr.length?(b.NLi=b.appendData(b.Ary,a,f),b.dpLyr.find("ul").html(b.NLi[0])):(b.NLi=b.appendData(c,a,f),b.fillDatainDropdwonLayer(c,b.NLi[0],d,b.NLi[3],b.NLi[4])):(b.inpHid.val()&&// when user call dd form at trigger(eg:onClick) many times , then to solve the prefill duplicate problem
// _this.inpHid.val('');
b.removeAllTags(),b.NLi=b.appendData(b.Ary,a,f),b.fillDatainDropdwonLayer(c,b.NLi[0],d,b.NLi[3],b.NLi[4])),b.liCntrFx=b.liCntr=b.NLi[1],b.createTags_ifPrefillData(b.NLi[2])}},customDD.prototype.appendData=function(a,b,c,d){var e,f,g="",h=this,i=h.id,j=[],k="",l=0,m=0;/*mustbe Defined null*/
h.allChk&&(// for super parent case
g+=h.createParLi("all","All","0",!0));for(var n in a){f=n;// to extend data object for addData function
for(var o in a[n]){var p=h.sortPrefix?o.replace(new RegExp(h.sortPrefix,"g"),""):o,q=h.eUnderScore(h.Escp(p));if("object"==typeof a[n][o]){//optgroup case
var r=h.parentChkBox;g+=h.createParLi(q,o,i,r);
// '<li class="optgroup" data-id='+'opt_'+ KY +' bindTo='+M+'>'+key+'</li>';
var s=[];l++;var t=[];h.optgrpObject[o]={},h.optgrpObject[o].checked=t,h.optgrpObject[o].unchecked=s;for(var u in a[n][o]){void 0!=c[u]?t.push(u):s.push(u),h.optgrpNameRef[u]={pName:o,text:a[n][o][u]};// to determine child belongs in which parent family/optgroup
var v=h.Escp(u);if(b[i])if(b[i][u]){var w;if(parseInt(b[i][u])?w=u:"",w===u){h.inpVal=u,k=a[n][o][u];var x=n?i+"_"+v+"_"+q+"_"+n:i+"_"+v+"_"+q,y=[k,x,i,v];j[m++]=y,l++,g+=h.createLi(i+"_"+v+"_"+q,a[n][o][u],n),e=q}}else{c===u&&(h.inpVal=u,k=a[n][o][u],e=q),l++;var z=h.selCheckBox(i,q,n,v);g+=h.createLi(i+"_"+v+"_"+q,a[n][o][u],n,z)}else{c===u&&(h.inpVal=u,k=a[n][o][u]);var A=h.selCheckBox(i,q,n,v);g+=h.createLi(i+"_"+v+"_"+q,a[n][o][u],n,A),l++}}}else// to determine child belongs in which parent family/optgroup
if(// without optgroup case case
h.optgrpNameRef[o]={text:a[n][o]},h.chkBox){//checkBox Case
var B="";if(b&&!$.isEmptyObject(b[i])&&(b[i][p]?B=p:""),B==p){var C=[a[n][o],i+"_"+q+"_"+n,i,o];j[m++]=C,g+=h.createLi(i+"_"+q,a[n][o],n,""),l++}else{var D=h.selCheckBox(i,q,n);g+=h.createLi(i+"_"+q,a[n][o],n,D),l++}}else//single Select without optgroup and without checkbox
h.obj.id[i][1]==o?(g+=h.createLi(i+"_"+q,a[n][o]),h.inpVal=o,k=a[n][o],l++,d?"":h.SingleSelection(a[n][o],[i,o])):(g+=h.createLi(i+"_"+q,a[n][o]),l++)}}if(h.chkBox&&h.tagsSorting===!1){var E=[],F=0;for(var G in c)for(var H in j)j[H][3]==G&&(E[F++]=j[H]);j=E}return $.extend(h.Ary[f],a[f]),[g,l,j,k,e]},customDD.prototype.chkForParent=function(a,b){for(key in a)0==a[key].unchecked.length?($('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").addClass("chkd"),$('li[data-id="opt_all"]').find("a").addClass("chkd")):$('li[data-id="opt_all"]').find("a").removeClass("chkd")},customDD.prototype.Escp=function(a){// encode key (space : [" "])
return a?a.replace(/\s/g,"SxP"):""},customDD.prototype.uEscp=function(a){// decode key
return!!a&&a.replace(/SxP/g," ")},customDD.prototype.eUnderScore=function(a){return a?a.replace(/\_/g,"undrxxscr"):""},customDD.prototype.dUnderScore=function(a){return a?a.replace(/undrxxscr/gi,"_"):""},customDD.prototype.clickParent=function(){//click event functionality of parent checkbox 
var a=this,// must be initialize here
b=a.id;$("#ul_"+b).on("click","li.optgroup",function(){var a=this,b=$(this).nextUntil("li.optgroup"),c=b.length;if($(this).children("a").hasClass("chkd")){for(i=0;i<=c;i++)$(b).eq(i).find("a").hasClass("chkd")&&$(b).eq(i).find("a").click();$(a).children("a").removeClass("chkd")}else{for(i=0;i<=c;i++)$(b).eq(i).find("a").hasClass("chkd")||$(b).eq(i).find("a").click();$(a).children("a").addClass("chkd")}})},customDD.prototype.clickMain=function(){//click event functionality of parent checkbox 
var a=this,// must be initialize here
b=a.id;$("#ul_"+b).on("click",'li.optgroup[data-id="opt_all"]',function(a){a.stopImmediatePropagation();var b=this,c=$(this).siblings("li.optgroup"),d=c.length;if($(this).children("a").hasClass("chkd")){for(j=0;j<=d;j++)$(c).eq(j).find("a").hasClass("chkd")||$(c).eq(j).click();$(b).children("a").addClass("chkd")}else{for(j=0;j<=d;j++)$(c).eq(j).find("a").hasClass("chkd")&&$(c).eq(j).click();$(b).children("a").removeClass("chkd")}})},customDD.prototype.searchData=function(a,b,c,d,e){var f="",g=this,a=a.toString();if(getPos=a.toLowerCase().indexOf(b.toLowerCase()),strLower=a.toLowerCase(),sTxtValueLower=b.toLowerCase(),spaceVal=!(strLower.indexOf(" "+sTxtValueLower)<0)&&strLower.indexOf(" "+sTxtValueLower),bracketVal=!(strLower.indexOf("("+sTxtValueLower)<0)&&strLower.indexOf("("+sTxtValueLower),slashVal=!(strLower.indexOf("/"+sTxtValueLower)<0)&&strLower.indexOf("/"+sTxtValueLower),getPos>=0&&(spaceVal||bracketVal||slashVal)||0===getPos){getPos&&(spaceVal?getPos=spaceVal+1:bracketVal?getPos=bracketVal+1:slashVal&&(getPos=slashVal+1));var h=a.substr(0,getPos),i="<b>"+a.substr(getPos,b.length)+"</b>",j=a.substr(getPos+b.length,a.length),k=g.Escp(d);f=g.selChkBox(k+"_"+e,c)?g.createLi(k,h+i+j,e,"chkd"):g.createLi(k,h+i+j,e),g.srchCntr++}//end of getPos if	
return f},customDD.prototype.selChkBox=function(a,b){var c=0,d=this;for(var e in d.ChkBoxContr)a==d.ChkBoxContr[e]&&(c=1);return!!c},customDD.prototype.selCheckBox=function(a,b,c,d){// n is only avail in CASE of optGroup
var e=0;for(var f in this.ChkBoxContr){e=1;break}if(e)return d?this.selChkBox(a+"_"+d+"_"+b+"_"+c,a)?"chkd":"":this.selChkBox(a+"_"+b+"_"+c,a)?"chkd":""},customDD.prototype.createParLi=function(a,b,c,d){// code by Nitin 
/*bnd = bnd?'bindTo="'+bnd+'"':'';*/
return d=d?'class="'+d+'"':"",d?'<li class="optgroup" data-id=opt_'+a+'><a href="javascript:;" data-id='+c+">"+b+"</li>":'<li class="optgroup" data-id=opt_'+a+">"+b+"</li>"},customDD.prototype.createLi=function(a,b,c,d){return c=c?'bindTo="'+c+'"':"",d=d?'class="'+d+'"':"",'<li class="pickVal" '+c+'><a href="javascript:;" '+d+" data-id="+a+">"+b+"</a></li>"},customDD.prototype.resetInpWidth=function(a){$("#clrAll_"+a).hide(),this.inpElm.css({width:""}),$("#"+a).find("li.frst").css({"float":"none"})},customDD.prototype.firstHighlight=function(){var a,b=this,c=b.id,d=$("#ul_"+c),e=d.find("ul"),f=e.find("li:first-child");b.curActElm=f,b.curActElm.addClass("active");var g=b.inpHid.attr("value");if(g&&!b.chkBox){b.curActElm.removeClass("active");
//var key = X.sortPrefix?X.sortPrefix+X.Escp(hidVal):X.Escp(hidVal);
var h=b.Escp(g);a=b.inpHid.data("optGroupKey")?c+"_"+h+"_"+b.inpHid.data("optGroupKey"):c+"_"+h,b.curActElm=$("#ul_"+b.id).find("ul").find('[data-id="'+a+'"]').parent().addClass("active"),ieObj.scrollHandler(d,b.dpLyr,e,f,b.curActElm)}},customDD.prototype.emptyHidField=function(a,b,c){//checked
var d=this;c&&"all"==c.toLowerCase()?d.Allflg="":"";var e,f=d.dUnderScore(d.uEscp(a)).replace(d.sortPrefix,""),g=$.inArray(f,d.hidValue);g!==-1&&(d.hidValue.splice(g,1),e=$.stringify(d.hidValue)),0==d.hidValue.length&&(d.resetInpWidth(b),e=d.hidValue),d.inpHid.val(e)},customDD.prototype.setInputText=function(){var a,b=this,c=b.id;a="all"==b.Allflg?"all":b.TagCnt,b.TagCnt?b.TagSpCnt||b.tags===!1?b.inpElm.val(b.preTxt+" "+a+" "+b.postTxt):"":b.inpHid.val()||($("#"+c+" .cross").hide(),b.placeholder&&!$.support.placeholder&&b.inpElm.val(b.inpElm.data("placeholder")).css({color:"#a9a9a9",width:""}),b.inpElm.css({width:""}))},customDD.prototype.setPlaceHolderAttribute=function(){var a=this;a.inpElm.val(""),a.placeholder&&a.inpElm.attr("placeholder",a.inpElm.data("placeholder")),a.inpElm.parents(".frst").css({"float-left":"none"})},customDD.prototype.removeData=function(a){var b=this,c=(b.id,0);b.dpLyr.find("ul li").each(function(){if($(this).attr("bindTo")==a.key){var d=$(this).children("a");if(d.length){var e=d.data("id");d.hasClass("chkd")&&(delete b.ChkBoxContr[b.uEscp(e.split("_")[1])],b.removeTag("tg_"+e+"_"+b.Escp(a.key),d.html(),!0))}c++,$(this).remove()}}),delete b.Ary[a.key],b.liCntr=b.liCntr-c,
//Hack for Cja bug --- should be remove when the issue will fixed
$("#ul_"+b.id).find("li").length||$("#"+b.id).find(".tagit").remove()},customDD.prototype.removeBlockofData=function(a){this.removeData(a)},customDD.prototype.addSelected=function(a,b){// depricated removed in v10.0.0
var c=this.id;for(var d in a)this.CreateTags(a[d],c+"_"+d+"_A",0,b)},customDD.prototype.deleteSelected=function(a){// depricated removed in v10.0.0
var b=this.id;for(var c in a.keyObject)this.removeTag("tg_"+b+"_"+a.keyObject[c]+"_A","",a.tag_onof_flag,a.remId)},customDD.prototype.select=function(a){// key accept after removing sortprefix
var b=this,c=b.id;if(b.chkBox)for(var d in a.key){var e=a.key[d],f=b.sortPrefix?b.sortPrefix+e:e,g=b.optgrpNameRef[f];g.pName?b.CreateTags(g.text,c+"_"+e+"_"+g.pName+"_A"):b.CreateTags(g.text,c+"_"+e+"_A")}else{if(!b.optgrpNameRef[a.key])throw"DD: Key not exist";b.SingleSelection(b.optgrpNameRef[a.key].text,[c,a.key])}},customDD.prototype.deselect=function(a){var b=this,c=b.id;if(b.chkBox)for(var d in a.key){var e=a.key[d],f=b.sortPrefix?b.sortPrefix+e:e,g=b.optgrpNameRef[f];g.pName?b.removeTag("tg_"+c+"_"+a.key[d]+"_"+g.pName+"_A"):b.removeTag("tg_"+c+"_"+a.key[d]+"_A")}else{if(!b.optgrpNameRef[a.key])throw"DD: Key not exist";b.SingleSelection("",[c])}},customDD.prototype.addData=function(a){// to append data in dropdown
var b=this,c={},d=[];a.status||(// for lagacy support
a.status="Checked");a.key?a.key:"A";if("Checked"==a.status){c.A=a.data;
//X.ChkBoxContr = [];
var e=b.prefillDataFormation(a.prefillData);d[b.id]=e,b.NLi=b.appendData(c,d,e),$("#ul_"+b.id).find("ul").append(b.NLi[0]),b.createTags_ifPrefillData(b.NLi[2]),b.liCntr+=b.NLi[1]}else this.removeBlockofData(a)},customDD.prototype.createTags_ifPrefillData=function(a){var b=this,c=b.id;if("Unchecked"!=b.sts&&b.chkBox&&a)// create tag on prefill basis
for(var d=0;d<a.length;d++){for(var e in b.obj.id[c][1])if(b.obj.id[c][1][e]==a[d][3])break;b.CreateTags(a[d][0],a[d][1],e,b.tags)}b.setInputText()},customDD.prototype.replaceData=function(a){var b=this;id=b.id;var c=a.isReset===!1?a.isReset:b.isReset,d=[],e=b.inpHid,f=$.trim(e.val());if($.isEmptyObject(a.data))throw"Either data object is empty or undefined";b.Ary={A:a.data},b.ChkBoxContr=[];var g=b.prefillDataFormation(a.prefillData);d[id]=g;var h=b.appendData(b.Ary,d,g);b.dpLyr.find("ul").html(h[0]),b.chkBox&&f&&(b.TagSpCnt?$("#"+b.TagSpCnt).find(".tagit").remove():$("#"+id).find(".DDsearch").find(".tagit").remove(),b.resetInpWidth(id),b.ChkBoxContr={},e.val(""),b.hidValue=[],// when click on clearon button then it should be removed
b.TagCnt=0,b.setPlaceHolderAttribute()),b.createTags_ifPrefillData(h[2]),b.liCntr+=h[1],c&&(// to enable/disabled reset filed 
b.inpElm.val(""),e.val(""))},customDD.prototype.hideDD=function(){var a=this,b=a.id;if("block"==a.dpLyr.css("display")&&(a.dpLyr.hide(),$("#"+b).find(".DDwrap").removeClass("brBotN"),a.chkBox?a.inpElm.val(""):(a.curActElm?a.curActElm.removeClass("active"):"",a.inpHid.val()||a.inpElm.val("")),a.setInputText()),a.srchBx!==!1&&$("#ul_"+b).find("li").length<a.liCntr){var c=a.appendData(a.Ary,"");a.dpLyr.find("ul").html(c[0]),a.liCntr=a.liCntrFx}},customDD.Ary={},customDD.lastRef={};